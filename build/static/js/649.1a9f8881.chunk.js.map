{"version":3,"file":"static/js/649.1a9f8881.chunk.js","mappings":"+PAEMA,EACK,cADLA,EAEO,gBAYb,EATyB,CACvBC,QAAS,WACP,OAAOC,EAAAA,EAAAA,IAAUF,IAEnBG,WAAY,SAACC,GACX,OAAOF,EAAAA,EAAAA,KAAA,UAAcF,EAAd,YAAqCI,MCXhD,EAAyB,uBAAzB,EAA6D,2B,WC0E7D,EAvEkB,WAChB,OAA8BC,EAAAA,EAAAA,WAAS,GAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAAwBF,EAAAA,EAAAA,UAAS,IAAjC,eAAOG,EAAP,KAAaC,EAAb,MAEAC,EAAAA,EAAAA,YAAU,WACRC,MACC,IAEH,IAAMA,EAAY,WAChBJ,GAAW,GACXK,EAAAA,UACGC,MAAK,SAACC,GACL,MAAuBA,EAAIN,KAArBO,EAAN,EAAMA,OAAQP,EAAd,EAAcA,KACC,MAAXO,GACFN,EAAQD,EAAKQ,UAGhBC,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAC3BG,SAAQ,kBAAMd,GAAW,OAoB9B,OACE,SAAC,IAAD,CAAMe,MAAM,0CAAqBC,UAAU,UAA3C,UACE,UAAC,IAAD,CACEC,KAAK,QACLlB,QAASA,EACTmB,WAAYjB,EACZkB,WAAY,CACVH,UAAWI,GAEbC,OAAQ,SAACC,GAAD,OAAYA,EAAOC,KAC3BC,OAAQ,CAAEC,EAAG,KACbC,UAAQ,EATV,WAWE,SAAC,WAAD,CACEX,MAAM,iCACNC,UAAWI,EACXO,MAAO,MACPC,OAAQ,SAACC,EAAGP,EAAQQ,GAAZ,OAAkBR,EAAOS,SAEnC,SAAC,WAAD,CAAchB,MAAM,QAAQa,OAAQ,SAACC,EAAGP,EAAQQ,GAAZ,OAAkBR,EAAOU,UAC7D,SAAC,WAAD,CAAcjB,MAAM,oCAAgBC,UAAWI,EAAeQ,OAAQ,SAACC,EAAGP,EAAQQ,GAAZ,OAAkBR,EAAOW,UAC/F,SAAC,WAAD,CAAclB,MAAM,OAAOY,MAAO,OAAQC,OAAQ,SAACC,EAAGP,EAAQQ,GAAZ,OAAkBR,EAAOY,SAC3E,SAAC,WAAD,CAAcnB,MAAM,6BAAgBa,OAAQ,SAACC,EAAGP,EAAQQ,GAAZ,OAAkBR,EAAOa,UAAUC,UAAU,EAAG,QAC5F,SAAC,WAAD,CACErB,MAAM,GACNY,MAAO,OACPC,OAAQ,SAACC,EAAGP,EAAQQ,GAAZ,OAAkB,SAAC,IAAD,CAAQO,QAAS,kBA5C9B,SAACf,GACpBgB,EAAAA,EAAAA,QAAc,CACZvB,MAAO,UACPwB,QAAQ,4DAAD,OAAoCjB,EAAOS,KAA3C,KACPS,KAAM,WACJxC,GAAW,GACXK,EAAAA,WAA4BiB,EAAOC,KAChCjB,MAAK,SAACC,GACmB,MAApBA,EAAIN,KAAKO,OACXiC,EAAAA,GAAAA,QAAgBlC,EAAIN,KAAKwC,SAEzBA,EAAAA,GAAAA,MAAclC,EAAIN,KAAKwC,YAG1B3B,SAAQ,kBAAMV,UA8BkCsC,CAAapB,IAApC","sources":["service/AdminService/AdminUserService.js","webpack://create-company/./src/pages/Admin/AdminUser/styles.module.scss?f10a","pages/Admin/AdminUser/index.js"],"sourcesContent":["import axios from \"./../../config/axios\";\n\nconst api_path = {\n  getUser: \"/admin/user\",\n  deleteUser:\"/admin/delete\",\n};\n\nconst AdminUserService = {\n  getUser: () => {\n    return axios.get(api_path.getUser);\n  },\n  deleteUser: (id) => {\n    return axios.post(`${api_path.deleteUser}/${id}`);\n  },\n};\n\nexport default AdminUserService;\n","// extracted by mini-css-extract-plugin\nexport default {\"inline\":\"styles_inline__41BTS\",\"pagination\":\"styles_pagination__rMbgV\"};","import React, { useEffect, useState } from 'react';\nimport { Card, message, Modal, Table, Button } from 'antd';\nimport AdminUserService from 'src/service/AdminService/AdminUserService';\nimport styles from './styles.module.scss';\nconst AdminUser = () => {\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    fetchUser();\n  }, []);\n\n  const fetchUser = () => {\n    setLoading(true);\n    AdminUserService.getUser()\n      .then((res) => {\n        let { status, data } = res.data;\n        if (status === 200) {\n          setData(data._user);\n        }\n      })\n      .catch((err) => console.log(err))\n      .finally(() => setLoading(false));\n  };\n  const handleDelete = (record) => {\n    Modal.confirm({\n      title: 'Warning',\n      content: `Bạn có chắc chắn muốn xóa user ${record.name}?`,\n      onOk: () => {\n        setLoading(true);\n        AdminUserService.deleteUser(record._id)\n          .then((res) => {\n            if (res.data.status === 200) {\n              message.success(res.data.message);\n            } else {\n              message.error(res.data.message);\n            }\n          })\n          .finally(() => fetchUser());\n      },\n    });\n  };\n  return (\n    <Card title=\"Quản lý người dùng\" className='cc-card'>\n      <Table\n        size=\"small\"\n        loading={loading}\n        dataSource={data}\n        pagination={{\n          className: styles.pagination,\n        }}\n        rowKey={(record) => record._id}\n        scroll={{ x: 768 }}\n        bordered\n      >\n        <Table.Column\n          title=\"Tên người dùng\"\n          className={styles.inline}\n          width={'25%'}\n          render={(v, record, i) => record.name}\n        />\n        <Table.Column title=\"Email\" render={(v, record, i) => record.email} />\n        <Table.Column title=\"Số điện thoại\" className={styles.inline} render={(v, record, i) => record.phone} />\n        <Table.Column title=\"Role\" width={'50px'} render={(v, record, i) => record.role} />\n        <Table.Column title=\"Ngày khởi tạo\" render={(v, record, i) => record.createdAt.substring(0, 10)} />\n        <Table.Column\n          title=\"\"\n          width={'50px'}\n          render={(v, record, i) => <Button onClick={() => handleDelete(record)}>Xóa</Button>}\n        />\n      </Table>\n    </Card>\n  );\n};\n\nexport default AdminUser;\n"],"names":["api_path","getUser","axios","deleteUser","id","useState","loading","setLoading","data","setData","useEffect","fetchUser","AdminUserService","then","res","status","_user","catch","err","console","log","finally","title","className","size","dataSource","pagination","styles","rowKey","record","_id","scroll","x","bordered","width","render","v","i","name","email","phone","role","createdAt","substring","onClick","Modal","content","onOk","message","handleDelete"],"sourceRoot":""}