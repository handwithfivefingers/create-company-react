{"version":3,"file":"static/js/516.ff372007.chunk.js","mappings":"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","sources":["components/PDFViewer/index.js","pages/Admin/AdminOrder/OrderItem/index.js","service/AdminService/AdminOrderService.js"],"sourcesContent":["import React from 'react';\nimport WebViewer from '@pdftron/webviewer';\nimport { Button, Card, Drawer, Form, Input, List, message, Modal, Space, Typography } from 'antd';\nimport { useEffect, useRef, useState } from 'react';\nimport ReactDOMServer from 'react-dom/server';\nimport { RiPlayList2Fill } from 'react-icons/ri';\nimport { useParams } from 'react-router-dom';\n\nconst allFiles = {\n  create_company: {\n    personal: [\n      {\n        name: 'Test',\n        path: '/files/File_1A_DieuLeCaNhanTest.docx',\n      },\n      {\n        name: 'File_1A_DieuLeCaNhan',\n        path: '/files/File_1A_DieuLeCaNhan.docx',\n      },\n      {\n        name: 'File_1B_DieuLeToChuc',\n        path: '/files/File_1B_DieuLeToChuc.docx',\n      },\n      {\n        name: 'File_2_PhuLucI_2_GiayDeNghiDangKiMTV',\n        path: '/files/File_2_PhuLucI_2_GiayDeNghiDangKiMTV.docx',\n      },\n      {\n        name: 'File_3_UyQuyen',\n        path: '/files/File_3_UyQuyen.doc',\n      },\n      {\n        name: 'File_4_PhuLucI_10_DanhSachNguoiDaiDien',\n        path: '/files/File_4_PhuLucI_10_DanhSachNguoiDaiDien.docx',\n      },\n    ],\n    original: [\n      {\n        name: 'File_1B_DieuLeCaNhan',\n        path: '/files/File_1B_DieuLeCaNhan.docx',\n      },\n      {\n        name: 'File_2_PhuLucI_2_GiayDeNghiDangKiMTV',\n        path: '/files/File_2_PhuLucI_2_GiayDeNghiDangKiMTV.docx',\n      },\n      {\n        name: 'File_3_UyQuyen',\n        path: '/files/File_3_UyQuyen.docx',\n      },\n      {\n        name: 'File_4_PhuLucI_10_DanhSachNguoiDaiDien',\n        path: '/files/File_4_PhuLucI_10_DanhSachNguoiDaiDien.docx',\n      },\n    ],\n  },\n  change_info: {},\n};\nconst BASE_URL = process.env.NODE_ENV === 'production' ? '/public' : 'http://localhost:3001/public';\n\nconst PDFViewer = (props) => {\n  const [visible, setVisible] = useState(false);\n\n  const [initialDoc, setInitialDoc] = useState('/files/dieulecanhan.docx');\n\n  const refViewer = useRef();\n\n  const insRef = useRef();\n  // const listfiles = props?.data?.files;\n\n  useEffect(() => {\n    renderPDF(refViewer, initialDoc, props?.data?.files);\n  }, [initialDoc, props]);\n\n  const showDrawer = () => {\n    setVisible(true);\n  };\n\n  const onClose = () => {\n    setVisible(false);\n  };\n\n  const filledJson = async (val) => {\n    // console.log(val);\n    const { documentViewer } = insRef?.current.Core;\n    const doc = documentViewer.getDocument();\n    await doc.documentCompletePromise();\n    documentViewer.updateView();\n    await doc.applyTemplateValues(val);\n  };\n\n  const handleCheckFile = async (files) => {\n    // console.log(\"handle check file\");\n    console.log('handle check file', files);\n    // console.log(files);\n    Modal.confirm({\n      content: (\n        <List\n          header={<div>List files</div>}\n          bordered\n          dataSource={files}\n          renderItem={(item) => (\n            <List.Item\n              onClick={() => {\n                setInitialDoc(`${BASE_URL}${item.path}`);\n              }}\n            >\n              <Typography.Text mark>[Files]</Typography.Text> {item.name}\n            </List.Item>\n          )}\n        />\n      ),\n      onOk() {\n        message.success('Vui lòng đợi trong giây lát');\n      },\n    });\n  };\n\n  const handlePluginPDFTron = (instance) => {\n    const {\n      setHeaderItems,\n      enableElements,\n      disableElements,\n      enableFeatures,\n      disableFeatures,\n      setTheme,\n      Feature,\n      Theme,\n    } = instance.UI;\n\n    if (NodeList && !NodeList.prototype.forEach) {\n      NodeList.prototype.forEach = Array.prototype.forEach;\n    }\n\n    if (HTMLCollection && !HTMLCollection.prototype.forEach) {\n      HTMLCollection.prototype.forEach = Array.prototype.forEach;\n    }\n\n    instance.UI?.disableElements(['ribbons']); //\n    instance.UI?.disableElements(['viewControlsButton']); //\n    // instance.UI?.disableElements([\"searchButton\"]);\n    instance.UI?.disableElements(['panToolButton']); //\n    instance.UI?.disableElements(['pageNavOverlay']); //\n\n    instance.UI?.disableFeatures(Feature.Download); //\n    instance.UI?.disableFeatures(Feature.TextSelection); //\n    // instance.UI?.disableFeatures(Feature.Annotations);\n    instance.UI?.disableFeatures(Feature.NotesPanel); //\n    instance.UI?.disableFeatures(Feature.FilePicker); //\n    // instance.UI?.disableFeatures([Feature.Print]);\n  };\n\n  const handleDownloadfile = async (documentViewer, annotationManager) => {\n    insRef?.current.UI.setPrintQuality(2);\n    insRef?.current.UI.useEmbeddedPrint(true);\n    insRef?.current.UI.print();\n  };\n\n  const renderPDF = async (ref, initialDoc = null, listDoc = null) => {\n    console.log('renderPDF');\n    console.log(props);\n    try {\n      let files = props.data.files;\n      if (!ref?.current?.hasChildNodes()) {\n        let params = {\n          path: '/lib',\n          initialDoc,\n        };\n\n        let instance = await WebViewer(params, ref.current);\n\n        if (instance) {\n          insRef.current = instance; // Set ins to handle when re-render\n          //Add new Button\n          console.log(files);\n          const { documentViewer, annotationManager } = instance.Core;\n          const newButton = [\n            {\n              type: 'actionButton',\n              toolName: 'actionButton',\n              dataElement: 'actionButton',\n              className: 'list-btn',\n              hidden: ['mobile'],\n              onClick: () => handleCheckFile(files),\n            },\n            {\n              type: 'actionButton',\n              img: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAYFBMVEX///8AAAClpaVTU1P09PTLy8thYWHw8PAYGBiUlJS2trb5+flISEiwsLDz8/P8/Pzd3d1NTU0LCwt7e3vX19eCgoIeHh5aWlpnZ2fl5eWOjo6ioqJ4eHhEREQ9PT2YmJhQIQIRAAACI0lEQVR4nO3ci07CQBRFUS71gVJ8oKgo6P//pWQSU7EtncpwrjPu9QHEnZyMdFAmEwAAAAAAAAAAAAAAAAAAAAAAAIy3eL6QerlRF16Z1vKy9MIZhRRSSCGFFFJIIYUUUkghhRS6FM5vzrTUgQAAAAAA/BPrc7FbdeGr+J7GuImikEIKKaSQQgoppJBCCimk0KWw/Cfg87ep1lxdCAAAAAAAyrCoq0Tq6/arT+W3Mm0J79qm7VevbaFP+uG0hZVZfaeP2nPyQrON738CCQrNd6qSQrt/1Jd90RSaPbjdBKsK/aaqK7TaZ6rCwt1UPU5VaaHLVMWFtpVPVV24m6r4+8z0hbbUTtWh0OxdOVWXQrOVbqpOhTaTTdWrcDdV0WPVh80SGVuoOlXnl8l0vLc+XKg+VU9hoND3sSqJwUKzTd5/YBNR6HwDcKyoQq/HqiTiCj1vAI4VW5jvVOMLc53qiEL9Y1USowqt9v5xf2FM4VPHJzt/34jCVZ7fAhZd6P75zW9FFi6zHGgQV7jK9vd9XGGV60CDiMJ8BxoMFq7kX7GQ2EDhfdYDDQ4WZnyCNg4VZj/QoL8w7xO00Vc4K2GgQU9hpu9Bu3QW1mvvHyuhjsKnXO8rurULX8sZaPCzcFvICdrYLyznBG3sFRZ0gja+FRbwHrRLU1jgQIOvwpyf4g+rSh5oUJU80KAq5SGp17bkgQZ5fp4EAAAAAAAAAAAAAADQ9gmIezIe1y4tuQAAAABJRU5ErkJggg==',\n              toolName: 'actionButton',\n              dataElement: 'actionButton',\n              className: 'list-btn',\n              hidden: ['mobile'],\n              onClick: () => handleDownloadfile(documentViewer, annotationManager),\n            },\n          ];\n\n          instance.setHeaderItems(function (header) {\n            let currentHeader = header.headers[header.headerGroup];\n            header.update([...currentHeader, ...newButton]);\n          });\n\n          const iframeDoc = instance.UI.iframeWindow.document;\n          const btn = iframeDoc.querySelectorAll('.list-btn');\n          btn.forEach(\n            (item, i) =>\n              (item.innerHTML = ReactDOMServer.renderToString(<RiPlayList2Fill style={{ fontSize: '16px' }} />))\n          );\n          // Handle Plugin\n          handlePluginPDFTron(instance);\n        }\n\n        // .then((instance) => {\n        //   console.log('listDoc', props);\n        //   insRef.current = instance; // Set ins to handle when re-render\n        //   //Add new Button\n        //   const { documentViewer, annotationManager } = instance.Core;\n        //   const newButton = [\n        //     {\n        //       type: 'actionButton',\n        //       toolName: 'actionButton',\n        //       dataElement: 'actionButton',\n        //       className: 'list-btn',\n        //       hidden: ['mobile'],\n        //       onClick: handleCheckFile,\n        //     },\n        //     {\n        //       type: 'actionButton',\n        //       img: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAYFBMVEX///8AAAClpaVTU1P09PTLy8thYWHw8PAYGBiUlJS2trb5+flISEiwsLDz8/P8/Pzd3d1NTU0LCwt7e3vX19eCgoIeHh5aWlpnZ2fl5eWOjo6ioqJ4eHhEREQ9PT2YmJhQIQIRAAACI0lEQVR4nO3ci07CQBRFUS71gVJ8oKgo6P//pWQSU7EtncpwrjPu9QHEnZyMdFAmEwAAAAAAAAAAAAAAAAAAAAAAAIy3eL6QerlRF16Z1vKy9MIZhRRSSCGFFFJIIYUUUkghhRS6FM5vzrTUgQAAAAAA/BPrc7FbdeGr+J7GuImikEIKKaSQQgoppJBCCimk0KWw/Cfg87ep1lxdCAAAAAAAyrCoq0Tq6/arT+W3Mm0J79qm7VevbaFP+uG0hZVZfaeP2nPyQrON738CCQrNd6qSQrt/1Jd90RSaPbjdBKsK/aaqK7TaZ6rCwt1UPU5VaaHLVMWFtpVPVV24m6r4+8z0hbbUTtWh0OxdOVWXQrOVbqpOhTaTTdWrcDdV0WPVh80SGVuoOlXnl8l0vLc+XKg+VU9hoND3sSqJwUKzTd5/YBNR6HwDcKyoQq/HqiTiCj1vAI4VW5jvVOMLc53qiEL9Y1USowqt9v5xf2FM4VPHJzt/34jCVZ7fAhZd6P75zW9FFi6zHGgQV7jK9vd9XGGV60CDiMJ8BxoMFq7kX7GQ2EDhfdYDDQ4WZnyCNg4VZj/QoL8w7xO00Vc4K2GgQU9hpu9Bu3QW1mvvHyuhjsKnXO8rurULX8sZaPCzcFvICdrYLyznBG3sFRZ0gja+FRbwHrRLU1jgQIOvwpyf4g+rSh5oUJU80KAq5SGp17bkgQZ5fp4EAAAAAAAAAAAAAADQ9gmIezIe1y4tuQAAAABJRU5ErkJggg==',\n        //       toolName: 'actionButton',\n        //       dataElement: 'actionButton',\n        //       className: 'list-btn',\n        //       hidden: ['mobile'],\n        //       onClick: () => handleDownloadfile(documentViewer, annotationManager),\n        //     },\n        //   ];\n\n        //   instance.setHeaderItems(function (header) {\n        //     let currentHeader = header.headers[header.headerGroup];\n        //     header.update([...currentHeader, ...newButton]);\n        //   });\n\n        //   const iframeDoc = instance.UI.iframeWindow.document;\n        //   const btn = iframeDoc.querySelectorAll('.list-btn');\n        //   btn.forEach(\n        //     (item, i) =>\n        //       (item.innerHTML = ReactDOMServer.renderToString(<RiPlayList2Fill style={{ fontSize: '16px' }} />))\n        //   );\n        //   // Handle Plugin\n        //   handlePluginPDFTron(instance);\n        // });\n      } else {\n        insRef?.current.UI.loadDocument(initialDoc);\n      }\n    } catch (err) {\n      console.error('Error rendering PDF', err);\n    }\n  };\n  console.log('viewer', props?.data?.files);\n\n  return <div className=\"webviewer\" ref={refViewer} style={{ height: 'calc(100vh - 100px)' }} />;\n};\n\nexport default PDFViewer;\n","// import WebViewer from \"@pdftron/webviewer\";\nimport WebViewer from '@pdftron/webviewer';\nimport { Button, Card, Drawer, Form, Input, message, Modal, Space } from 'antd';\nimport { useEffect, useRef, useState } from 'react';\nimport ReactDOMServer from 'react-dom/server';\nimport { RiPlayList2Fill } from 'react-icons/ri';\nimport { useParams } from 'react-router-dom';\nimport PDFViewer from 'src/components/PDFViewer';\nimport AdminOrderService from 'src/service/AdminService/AdminOrderService';\nconst allFiles = {\n  create_company: {\n    personal: [\n      {\n        name: 'Test',\n        path: '/files/File_1A_DieuLeCaNhanTest.docx',\n      },\n      {\n        name: 'File_1A_DieuLeCaNhan',\n        path: '/files/File_1A_DieuLeCaNhan.docx',\n      },\n      {\n        name: 'File_1B_DieuLeToChuc',\n        path: '/files/File_1B_DieuLeToChuc.docx',\n      },\n      {\n        name: 'File_2_PhuLucI_2_GiayDeNghiDangKiMTV',\n        path: '/files/File_2_PhuLucI_2_GiayDeNghiDangKiMTV.docx',\n      },\n      {\n        name: 'File_3_UyQuyen',\n        path: '/files/File_3_UyQuyen.doc',\n      },\n      {\n        name: 'File_4_PhuLucI_10_DanhSachNguoiDaiDien',\n        path: '/files/File_4_PhuLucI_10_DanhSachNguoiDaiDien.docx',\n      },\n    ],\n    original: [\n      {\n        name: 'File_1B_DieuLeCaNhan',\n        path: '/files/File_1B_DieuLeCaNhan.docx',\n      },\n      {\n        name: 'File_2_PhuLucI_2_GiayDeNghiDangKiMTV',\n        path: '/files/File_2_PhuLucI_2_GiayDeNghiDangKiMTV.docx',\n      },\n      {\n        name: 'File_3_UyQuyen',\n        path: '/files/File_3_UyQuyen.docx',\n      },\n      {\n        name: 'File_4_PhuLucI_10_DanhSachNguoiDaiDien',\n        path: '/files/File_4_PhuLucI_10_DanhSachNguoiDaiDien.docx',\n      },\n    ],\n  },\n  change_info: {},\n};\n\nexport default function ClassComponentText(props) {\n  const refViewer = useRef();\n  const [visible, setVisible] = useState(false);\n  const [data, setData] = useState();\n  const [initialDoc, setInitialDoc] = useState('/files/dieulecanhan.docx');\n  // const [jsonData, setJsonData] = useState([]);\n  // const [instance, setInstance] = useState();\n  const slug = useParams();\n  const insRef = useRef();\n\n  useEffect(() => {\n    getScreenData(slug);\n    // console.log(slug);\n  }, []);\n\n  // useEffect(() => {\n  //   renderPDF(refViewer, initialDoc);\n  // }, [initialDoc]);\n\n  const showDrawer = () => {\n    setVisible(true);\n  };\n\n  const onClose = () => {\n    setVisible(false);\n  };\n\n  const getScreenData = (slug) => {\n    AdminOrderService.getOrderBySlug(slug)\n      .then((res) => {\n        if (res.data.status === 200) {\n          // console.log(res);\n          let { data } = res.data;\n          setData(data);\n        }\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const filledJson = async (val) => {\n    // console.log(val);\n    const { documentViewer } = insRef?.current.Core;\n    const doc = documentViewer.getDocument();\n    await doc.documentCompletePromise();\n    documentViewer.updateView();\n    await doc.applyTemplateValues(val);\n  };\n\n  const handleCheckFile = () => {\n    // console.log(\"handle check file\");\n    Modal.confirm({\n      content: (\n        <Space direction=\"vertical\">\n          {allFiles.create_company.personal.map((item) => (\n            <Button key={item.name} onClick={() => setInitialDoc(item.path)}>\n              {item.name}\n            </Button>\n          ))}\n        </Space>\n      ),\n      onOk() {\n        message.success('Ready to load files');\n      },\n    });\n  };\n\n  const handlePluginPDFTron = (instance) => {\n    const {\n      setHeaderItems,\n      enableElements,\n      disableElements,\n      enableFeatures,\n      disableFeatures,\n      setTheme,\n      Feature,\n      Theme,\n    } = instance.UI;\n\n    if (NodeList && !NodeList.prototype.forEach) {\n      NodeList.prototype.forEach = Array.prototype.forEach;\n    }\n\n    if (HTMLCollection && !HTMLCollection.prototype.forEach) {\n      HTMLCollection.prototype.forEach = Array.prototype.forEach;\n    }\n\n    instance.UI?.disableElements(['ribbons']); //\n    instance.UI?.disableElements(['viewControlsButton']); //\n    // instance.UI?.disableElements([\"searchButton\"]);\n    instance.UI?.disableElements(['panToolButton']); //\n    instance.UI?.disableElements(['pageNavOverlay']); //\n\n    instance.UI?.disableFeatures(Feature.Download); //\n    instance.UI?.disableFeatures(Feature.TextSelection); //\n    // instance.UI?.disableFeatures(Feature.Annotations);\n    instance.UI?.disableFeatures(Feature.NotesPanel); //\n    instance.UI?.disableFeatures(Feature.FilePicker); //\n    // instance.UI?.disableFeatures([Feature.Print]);\n  };\n\n  const handleDownloadfile = async (documentViewer, annotationManager) => {\n    insRef?.current.UI.setPrintQuality(2);\n    insRef?.current.UI.useEmbeddedPrint(true);\n    insRef?.current.UI.print();\n  };\n\n  const renderPDF = async (ref, initialDoc = null) => {\n    if (!ref?.current?.hasChildNodes()) {\n      let params = {\n        path: '/lib',\n        initialDoc,\n      };\n      WebViewer(params, ref.current).then((instance) => {\n        insRef.current = instance; // Set ins to handle when re-render\n        //Add new Button\n        const { documentViewer, annotationManager } = instance.Core;\n\n        instance.setHeaderItems(function (header) {\n          // console.log(header);\n          let currentHeader = header.headers[header.headerGroup];\n          const newButton = [\n            {\n              type: 'actionButton',\n              toolName: 'actionButton',\n              dataElement: 'actionButton',\n              className: 'list-btn',\n              hidden: ['mobile'],\n              onClick: () => handleCheckFile(documentViewer),\n            },\n            {\n              type: 'actionButton',\n              img: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAYFBMVEX///8AAAClpaVTU1P09PTLy8thYWHw8PAYGBiUlJS2trb5+flISEiwsLDz8/P8/Pzd3d1NTU0LCwt7e3vX19eCgoIeHh5aWlpnZ2fl5eWOjo6ioqJ4eHhEREQ9PT2YmJhQIQIRAAACI0lEQVR4nO3ci07CQBRFUS71gVJ8oKgo6P//pWQSU7EtncpwrjPu9QHEnZyMdFAmEwAAAAAAAAAAAAAAAAAAAAAAAIy3eL6QerlRF16Z1vKy9MIZhRRSSCGFFFJIIYUUUkghhRS6FM5vzrTUgQAAAAAA/BPrc7FbdeGr+J7GuImikEIKKaSQQgoppJBCCimk0KWw/Cfg87ep1lxdCAAAAAAAyrCoq0Tq6/arT+W3Mm0J79qm7VevbaFP+uG0hZVZfaeP2nPyQrON738CCQrNd6qSQrt/1Jd90RSaPbjdBKsK/aaqK7TaZ6rCwt1UPU5VaaHLVMWFtpVPVV24m6r4+8z0hbbUTtWh0OxdOVWXQrOVbqpOhTaTTdWrcDdV0WPVh80SGVuoOlXnl8l0vLc+XKg+VU9hoND3sSqJwUKzTd5/YBNR6HwDcKyoQq/HqiTiCj1vAI4VW5jvVOMLc53qiEL9Y1USowqt9v5xf2FM4VPHJzt/34jCVZ7fAhZd6P75zW9FFi6zHGgQV7jK9vd9XGGV60CDiMJ8BxoMFq7kX7GQ2EDhfdYDDQ4WZnyCNg4VZj/QoL8w7xO00Vc4K2GgQU9hpu9Bu3QW1mvvHyuhjsKnXO8rurULX8sZaPCzcFvICdrYLyznBG3sFRZ0gja+FRbwHrRLU1jgQIOvwpyf4g+rSh5oUJU80KAq5SGp17bkgQZ5fp4EAAAAAAAAAAAAAADQ9gmIezIe1y4tuQAAAABJRU5ErkJggg==',\n              toolName: 'actionButton',\n              dataElement: 'actionButton',\n              className: 'list-btn',\n              hidden: ['mobile'],\n              onClick: () => handleDownloadfile(documentViewer, annotationManager),\n            },\n          ];\n          header.update([...currentHeader, ...newButton]);\n        });\n\n        const iframeDoc = instance.UI.iframeWindow.document;\n        const btn = iframeDoc.querySelectorAll('.list-btn');\n        btn.forEach(\n          (item) => (item.innerHTML = ReactDOMServer.renderToString(<RiPlayList2Fill style={{ fontSize: '16px' }} />))\n        );\n        // Handle Plugin\n        handlePluginPDFTron(instance);\n      });\n    } else {\n      insRef?.current.UI.loadDocument(initialDoc);\n    }\n  };\n\n  return (\n    <>\n      <Button\n        type=\"primary\"\n        onClick={showDrawer}\n        style={{\n          position: 'fixed',\n          top: ' 50%',\n          right: 0,\n          transform: ' translate(0,-50%)',\n        }}\n      >\n        Edit\n      </Button>\n\n      {/* <div className=\"webviewer\" ref={refViewer} style={{ height: \"calc(100vh - 100px)\" }} /> */}\n      <PDFViewer data={data} />\n      {/* {data && <UserEditDrawer onClose={onClose} visible={visible} data={data} filledJson={(val) => filledJson(val)} />} */}\n    </>\n  );\n}\n\nconst UserEditDrawer = ({ onClose, visible, data, filledJson }) => {\n  const [template, setTemplate] = useState([]);\n  const formRef = useRef();\n  useEffect(() => {\n    let fields = splitData();\n    setTemplate(fields);\n  }, [data]);\n\n  const splitData = () => {\n    const _template = {};\n    Object.keys(data).forEach((item) => {\n      if (typeof data[item] !== 'object') {\n        _template[item] = data[item]; // create exist value for Number || String field\n      } else {\n        // Handle with Object field\n        // 2 case : Array || Object\n\n        if (data[item].length > 0) {\n          // Handle with Array\n          _template[item] = data[item].map((elmt, i) => ({ name: elmt.name, code: elmt.code, index: `${i + 1}` }));\n        } else {\n          // Handle with object\n\n          Object.keys(data[item]).forEach((field) => {\n            let newField = [item, field].join('_');\n            _template[newField] = data[item][field];\n          });\n        }\n      }\n    });\n    return _template;\n    // filledJson(_template);\n  };\n\n  const renderFormItem = () => {\n    let xhtml = null;\n    xhtml = Object.keys(template).map((keys) => {\n      return (\n        <Form.Item name={keys} key={keys}>\n          <Input />\n        </Form.Item>\n      );\n    });\n\n    Object.keys(template).map((keys) => {\n      formRef?.current?.setFieldsValue({\n        [keys]: template[keys],\n      });\n    });\n\n    return xhtml;\n  };\n  const onFinish = (val) => {\n    console.log(val);\n  };\n  return (\n    <Drawer title=\"Edit Information\" placement=\"right\" onClose={onClose} visible={visible}>\n      {\n        <Card className=\"card-boxShadow\" title=\"Loại hình doanh nghiệp\">\n          <Form ref={formRef} onFinish={filledJson}>\n            {renderFormItem()}\n            <Button htmlType=\"submit\">Edit content</Button>\n          </Form>\n        </Card>\n      }\n    </Drawer>\n  );\n};\n","import axios from \"src/config/axios\";\n\nconst api_path = {\n  getOrder: \"/admin/order\",\n  deleteOrder: \"/admin/order/delete/\",\n};\n\nconst AdminOrderService = {\n  getOrder: (params) => {\n    return axios.post(api_path.getOrder, params);\n  },\n\n  getOrderBySlug: (params) => {\n    return axios.get(`${api_path.getOrder}/${params.slug}`);\n  },\n  deleteOrder: (id) => {\n    return axios.post(api_path.deleteOrder + id);\n  },\n};\n\nexport default AdminOrderService;\n"],"names":["props","useState","initialDoc","setInitialDoc","refViewer","useRef","insRef","useEffect","renderPDF","data","files","handleCheckFile","console","log","Modal","content","header","bordered","dataSource","renderItem","item","onClick","path","mark","name","onOk","message","handlePluginPDFTron","instance","UI","Feature","setHeaderItems","enableElements","disableElements","enableFeatures","disableFeatures","setTheme","Theme","NodeList","prototype","forEach","Array","HTMLCollection","Download","TextSelection","NotesPanel","FilePicker","handleDownloadfile","documentViewer","annotationManager","current","setPrintQuality","useEmbeddedPrint","print","ref","hasChildNodes","params","WebViewer","Core","newButton","type","toolName","dataElement","className","hidden","img","currentHeader","headers","headerGroup","update","iframeDoc","iframeWindow","document","querySelectorAll","i","innerHTML","ReactDOMServer","style","fontSize","loadDocument","error","height","ClassComponentText","setVisible","setData","slug","useParams","getScreenData","AdminOrderService","then","res","status","catch","err","position","top","right","transform","api_path","getOrder","axios","getOrderBySlug","deleteOrder","id"],"sourceRoot":""}