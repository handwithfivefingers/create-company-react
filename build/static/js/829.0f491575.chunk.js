"use strict";(self.webpackChunkcreate_company=self.webpackChunkcreate_company||[]).push([[829],{82610:function(e,n,t){t.d(n,{Z:function(){return p}});var i=t(4942),s=t(16881),r=t(98753),a=t(21380),c=t(28182),l=t(72791),o=t(17425),u=t(62112),d="styles_active__GXTYy",h="styles_editor__Bk4za",f="styles_heading__SSaYc",m="styles_editorContent__e2kf8",x="styles_disabled__lrogg",v=t(80184),p=(0,l.forwardRef)((function(e,n){var t=e.content,i=(e.onChange,(0,r.jE)({extensions:[a.Z,s.Z],content:t}));return(0,l.useEffect)((function(){var e;null===i||void 0===i||null===(e=i.commands)||void 0===e||e.setContent(t)}),[t]),(0,l.useImperativeHandle)(n,(function(){return{getContent:function(){return i.getHTML()}}})),(0,v.jsxs)("div",{className:h,children:[(0,v.jsx)(g,{editor:i}),(0,v.jsx)(r.kg,{editor:i,className:m})]})})),g=function(e){var n=e.editor;if(!n)return null;var t=n.getAttributes("link").href;return(0,v.jsxs)("div",{className:f,children:[(0,v.jsx)("button",{onClick:function(){return n.chain().focus().toggleBold().run()},className:n.isActive("bold")?d:"",children:(0,v.jsx)(o.pSt,{})}),(0,v.jsx)("button",{onClick:function(){return n.chain().focus().toggleItalic().run()},className:n.isActive("italic")?d:"",children:(0,v.jsx)(o.dvX,{})}),(0,v.jsx)("button",{onClick:function(){return n.chain().focus().toggleStrike().run()},className:n.isActive("strike")?d:"",children:(0,v.jsx)(o.hZH,{})}),(0,v.jsx)("button",{className:"icon",onClick:function(){return(0,u.$2)(n)},children:(0,v.jsx)(o._q$,{})}),(0,v.jsx)("button",{className:(0,c.Z)((0,i.Z)({},x,!t)),onClick:function(){return(0,u.$2)(n)},children:(0,v.jsx)(o.huc,{})}),(0,v.jsx)("button",{onClick:function(){return n.chain().focus().setParagraph().run()},className:n.isActive("paragraph")?d:"",children:(0,v.jsx)(o.r4y,{})}),(0,v.jsx)("button",{onClick:function(){return n.chain().focus().toggleHeading({level:1}).run()},className:n.isActive("heading",{level:1})?d:"",children:(0,v.jsx)(o.paU,{})}),(0,v.jsx)("button",{onClick:function(){return n.chain().focus().toggleHeading({level:2}).run()},className:n.isActive("heading",{level:2})?d:"",children:(0,v.jsx)(o.V_J,{})}),(0,v.jsx)("button",{onClick:function(){return n.chain().focus().toggleHeading({level:3}).run()},className:n.isActive("heading",{level:3})?d:"",children:(0,v.jsx)(o._s$,{})}),(0,v.jsx)("button",{onClick:function(){return n.chain().focus().toggleHeading({level:4}).run()},className:n.isActive("heading",{level:4})?d:"",children:(0,v.jsx)(o.d1U,{})}),(0,v.jsx)("button",{onClick:function(){return n.chain().focus().toggleHeading({level:5}).run()},className:n.isActive("heading",{level:5})?d:"",children:(0,v.jsx)(o.HjG,{})}),(0,v.jsx)("button",{onClick:function(){return n.chain().focus().toggleHeading({level:6}).run()},className:n.isActive("heading",{level:6})?d:"",children:(0,v.jsx)(o.$xy,{})}),(0,v.jsx)("button",{onClick:function(){return n.chain().focus().toggleBulletList().run()},className:n.isActive("bulletList")?d:"",children:(0,v.jsx)(o.JXj,{})}),(0,v.jsx)("button",{onClick:function(){return n.chain().focus().setHorizontalRule().run()},children:(0,v.jsx)(o.K$Q,{})}),(0,v.jsx)("button",{onClick:function(){return n.chain().focus().undo().run()},children:(0,v.jsx)(o.TPM,{})}),(0,v.jsx)("button",{onClick:function(){return n.chain().focus().redo().run()},children:(0,v.jsx)(o.Q3t,{})})]})}},33829:function(e,n,t){t.r(n),t.d(n,{default:function(){return F}});var i=t(1413),s=t(15861),r=t(29439),a=t(87757),c=t.n(a),l=t(63281),o=t(30501),u=t(82622),d=t(50419),h=t(66871),f=t(87309),m=t(3290),x=t(59220),v=t(93020),p=t(66106),g=t(30914),j=t(88894),Z=t(53540),_=t(72791),b=t(4942),k=t(49389),C=t(37083),y=t(82610),S={mail:"styles_mail__ZMJXn",header:"styles_header__zUdkY",title:"styles_title__VDGxt",action:"styles_action__JmRnc",loading:"styles_loading__SXJog",loadingActive:"styles_loadingActive__lvEWh"},N=(t(72525),t(39772)),w=t(28182),A=t(80184),T=function(e){var n=(0,_.useState)(),t=(0,r.Z)(n,2),i=t[0],a=t[1],l=(0,_.useState)(),o=(0,r.Z)(l,2),u=o[0],h=o[1],m=(0,_.useState)(),x=(0,r.Z)(m,2),v=x[0],p=x[1],g=(0,_.useState)(!1),j=(0,r.Z)(g,2),Z=j[0],T=j[1],P=(0,_.useRef)();(0,_.useEffect)((function(){return e.data&&(a(e.data.name),h(e.content),p(e.data.subject)),function(){a(),h(),p()}}),[e]);var H=function(){var n=(0,s.Z)(c().mark((function n(){var t,s,r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(i.length<=1)){n.next=2;break}return n.abrupt("return");case 2:if(!((t=P.current.getContent()).length<=1)){n.next=5;break}return n.abrupt("return");case 5:if(T(!0),1!==e.type){n.next=21;break}return n.prev=7,n.next=10,N.Z.addTemplate({name:i,subject:v,content:t});case 10:201===(s=n.sent).data.status?d.ZP.success(s.data.message):d.ZP.error(s.data.message),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(7),d.ZP.error(n.t0)||console.log(n.t0);case 17:return n.prev=17,e.onFinishScreen&&e.onFinishScreen(),T(!1),n.finish(17);case 21:if(2!==e.type){n.next=36;break}return n.prev=22,n.next=25,N.Z.editTemplate({_id:e.data._id,name:i,content:t,subject:v});case 25:200===(r=n.sent).data.status?d.ZP.success(r.data.message):d.ZP.error(r.data.message),n.next=32;break;case 29:n.prev=29,n.t1=n.catch(22),d.ZP.error(n.t1)||console.log(n.t1);case 32:return n.prev=32,e.onFinishScreen&&e.onFinishScreen(),T(!1),n.finish(32);case 36:case"end":return n.stop()}}),n,null,[[7,14,17,21],[22,29,32,36]])})));return function(){return n.apply(this,arguments)}}();return(0,A.jsxs)("div",{className:S.mail,children:[(0,A.jsx)(k.Z,{size:"middle",placeholder:"Ti\xeau \u0111\u1ec1",value:i,onChange:function(e){return a(e.target.value)}}),(0,A.jsx)(k.Z,{size:"middle",placeholder:"Subject",value:v,onChange:function(e){return p(e.target.value)}}),(0,A.jsx)(y.Z,{content:u,ref:P}),(0,A.jsx)(f.Z,{className:S.submit,onClick:H,children:"Submit"}),(0,A.jsx)("div",{className:(0,w.Z)([S.loading],(0,b.Z)({},S.loadingActive,Z)),children:(0,A.jsx)(C.Z,{spinning:Z})})]})},P=(0,_.memo)(T),H="styles_tableContent__-hgln",z="styles_popover__vsAvL";function E(e){var n=(0,_.useState)([]),t=(0,r.Z)(n,2),a=t[0],b=t[1],k=(0,_.useState)(!1),C=(0,r.Z)(k,2),y=C[0],S=C[1],w=(0,_.useState)({title:"",visible:!1,component:null,width:0}),T=(0,r.Z)(w,2),E=T[0],F=T[1],$=function(){var e=(0,s.Z)(c().mark((function e(){var n,t,i,s=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:1,e.prev=1,t={page:n},S(!0),e.next=6,N.Z.getTemplate(t);case 6:200===(i=e.sent).data.status?b(i.data.data):d.ZP.error(i.data.message),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:return e.prev=13,S(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(){return e.apply(this,arguments)}}();(0,_.useEffect)((function(){$()}),[]);var J=function(){F((0,i.Z)((0,i.Z)({},E),{},{visible:!1}))},L=function(){var e=(0,s.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.prev=1,e.next=4,N.Z.deleteTemplate(n._id);case 4:200===(t=e.sent).data.status&&d.ZP.success(t.data.message),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:return e.prev=11,S(!1),$(),e.finish(11);case 15:case"end":return e.stop()}}),e,null,[[1,8,11,15]])})));return function(n){return e.apply(this,arguments)}}();return(0,A.jsxs)(h.Z,{className:"cc-card",title:"Template Mail",extra:[(0,A.jsx)(f.Z,{type:"text",onClick:function(){F((0,i.Z)((0,i.Z)({},E),{},{title:"Th\xeam m\u1eabu m\u1edbi",visible:!0,width:"500px",component:(0,A.jsx)(P,{onClose:J,type:1,onFinishScreen:function(){return $()}})}))},icon:(0,A.jsx)(l.Z,{}),children:"Th\xeam m\u1edbi"},"add-template")],children:[(0,A.jsxs)(m.Z,{size:"small",bordered:!0,dataSource:a._template,loading:{spinning:y,tip:"Loading...",delay:100},pagination:{current:a.current_page,pageSize:10,total:a.count,onChange:function(e,n){$(e)},showSizeChanger:!1},scroll:{x:1200},children:[(0,A.jsx)(m.Z.Column,{width:"20%",title:"M\u1eabu Email",dataIndex:"name",render:function(e,n,t){return(0,A.jsx)(x.Z,{title:n.name,color:"#108ee9",children:n.name},"#108ee9")}}),(0,A.jsx)(m.Z.Column,{width:"20%",title:"Subject",dataIndex:"subject",render:function(e,n,t){return n.subject}}),(0,A.jsx)(m.Z.Column,{title:"N\u1ed9i dung Email",width:"50%",render:function(e,n,t){return(0,A.jsx)("div",{className:H,children:(0,A.jsx)(v.Z,{content:(0,A.jsx)("div",{className:z,children:(0,Z.ZP)((null===n||void 0===n?void 0:n.content)||"")}),color:"#108ee9",title:n.name||"",placement:"top",children:(0,Z.ZP)((null===n||void 0===n?void 0:n.content)||"")},"#108ee9")})}}),(0,A.jsx)(m.Z.Column,{width:"10%",title:"Action",render:function(e,n,t){return(0,A.jsxs)(p.Z,{children:[(0,A.jsx)(g.Z,{span:12,children:(0,A.jsx)(f.Z,{type:"text",size:"small",onClick:function(){return function(e){F((0,i.Z)((0,i.Z)({},E),{},{title:"Ch\u1ec9nh s\u1eeda m\u1eabu",visible:!0,width:"500px",component:(0,A.jsx)(P,{data:e,content:e.content,onClose:J,type:2,onFinishScreen:function(){return $()}})}))}(n)},children:(0,A.jsx)(o.Z,{})})}),(0,A.jsx)(g.Z,{span:12,children:(0,A.jsx)(f.Z,{type:"text",size:"small",onClick:function(){return L(n)},children:(0,A.jsx)(u.Z,{})})})]})}})]}),(0,A.jsx)(j.Z,{title:E.title,width:720,onClose:J,visible:E.visible,children:E.component})]})}var F=(0,_.memo)(E)},39772:function(e,n,t){var i=t(72525),s="/admin/template",r="/admin/template/delete",a="/admin/template",c="/admin/template/edit",l={getTemplate:function(e){return i.Z.get(s,{params:e})},addTemplate:function(e){return i.Z.post(a,e)},editTemplate:function(e){return i.Z.post("".concat(c,"/").concat(e._id),e)},deleteTemplate:function(e){return i.Z.post("".concat(r,"/").concat(e))}};n.Z=l}}]);
//# sourceMappingURL=829.0f491575.chunk.js.map