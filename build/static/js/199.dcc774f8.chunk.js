"use strict";(self.webpackChunkcreate_company=self.webpackChunkcreate_company||[]).push([[199],{19199:function(n,e,t){t.r(e),t.d(e,{default:function(){return I}});var r=t(1413),i=t(15861),o=t(29439),a=t(87757),l=t.n(a),s=t(30501),c=t(50419),u=t(44515),d=t(47528),h=t(59220),p=t(87309),v=t(65873),f=t(88894),m=t(80570),g=t(29603),Z=t(72791),x=t(16856),y=t(16871),j=t(62112),w=t(72525),b="/order",C="/payment",_={getOrders:function(){return w.Z.get(b)},Payment:function(n){return w.Z.post(C,n)}},k="styles_btnGroup__izDmt",S=t(80184),I=function(){var n=(0,Z.useState)(!1),e=(0,o.Z)(n,2),t=e[0],a=e[1],f=(0,Z.useState)([]),m=(0,o.Z)(f,2),w=m[0],b=m[1],C=(0,Z.useState)({visible:!1,width:0,component:null}),I=(0,o.Z)(C,2),T=I[0],z=I[1],D=(0,Z.useState)({visible:!1,width:0,data:null}),H=(0,o.Z)(D,2),O=H[0],E=H[1],G=(0,y.s0)();(0,Z.useEffect)((function(){N()}),[]);var N=function(){var n=(0,i.Z)(l().mark((function n(){var e;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(!0),n.next=4,_.getOrders();case 4:200===(e=n.sent).data.status?b(e.data.data):console.log(e),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:return n.prev=11,a(!1),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[0,8,11,14]])})));return function(){return n.apply(this,arguments)}}(),L=function(){var n=(0,i.Z)(l().mark((function n(e){var t;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(!0),n.prev=1,n.next=4,_.Payment(e);case 4:200===(t=n.sent).status&&window.open(t.data.url),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),console.log(n.t0),c.ZP.error("something was wrong");case 12:return n.prev=12,a(!1),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[1,8,12,15]])})));return function(e){return n.apply(this,arguments)}}(),M=function(){z((0,r.Z)((0,r.Z)({},T),{},{visible:!1})),E((function(n){return(0,r.Z)((0,r.Z)({},n),{},{visible:!1})}))};return(0,S.jsxs)("div",{children:[(0,S.jsxs)(u.Z,{size:"small",bordered:!0,dataSource:w,loading:{spinning:t,tip:"Loading...",delay:100},rowKey:function(n){return n._id},scroll:{x:1e3},children:[(0,S.jsx)(u.Z.Column,{align:"center",title:"\u0110\u01a1n h\xe0ng",dataIndex:"per_main",render:function(n,e,t){return e.name}}),(0,S.jsx)(u.Z.Column,{align:"center",title:"Ng\u01b0\u1eddi \u0111\u0103ng k\xed",render:function(n,e,t){return null===e||void 0===e?void 0:e.orderOwner.name}}),(0,S.jsx)(u.Z.Column,{width:"350px",align:"center",title:"Lo\u1ea1i h\xecnh",dataIndex:"",render:function(n,e,t){var r,i,o,a;return null!==e&&void 0!==e&&null!==(r=e.data)&&void 0!==r&&r.create_company?"Th\xe0nh l\u1eadp doanh nghi\u1ec7p":null!==e&&void 0!==e&&null!==(i=e.data)&&void 0!==i&&i.change_info?"Thay \u0111\u1ed5i th\xf4ng tin":null!==e&&void 0!==e&&null!==(o=e.data)&&void 0!==o&&o.pending?"T\u1ea1m ho\xe3n":null!==e&&void 0!==e&&null!==(a=e.data)&&void 0!==a&&a.dissolution?"Gi\u1ea3i th\u1ec3":void 0}}),(0,S.jsx)(u.Z.Column,{align:"center",title:"Gi\xe1 ti\u1ec1n",render:function(n,e,t){return(0,S.jsxs)(S.Fragment,{children:[(0,j.AZ)(null===e||void 0===e?void 0:e.price)," VND"]})}}),(0,S.jsx)(u.Z.Column,{align:"center",title:"Thanh to\xe1n",dataIndex:"",render:function(n,e,t){return 1===(null===e||void 0===e?void 0:e.payment)?(0,S.jsx)(d.Z,{color:"green",children:"\u0110\xe3 thanh to\xe1n"}):(0,S.jsx)(d.Z,{color:"volcano",children:"Ch\u01b0a thanh to\xe1n"})}}),(0,S.jsx)(u.Z.Column,{align:"center",width:88,render:function(n,e,t){return(0,S.jsxs)("div",{className:k,children:[(0,S.jsx)(h.Z,{title:"Ch\u1ec9nh s\u1eeda",color:"blue",children:(0,S.jsx)(p.Z,{size:"large",type:"primary",shape:"circle",onClick:function(){return function(n){console.log("order",n);var e=n.data,t=null;for(var r in e)"pending"===r?t="tam-ngung":"change_info"===r?t="thay-djoi-thong-tin":"dissolution"===r?t="giai-the":"create_company"===r&&(t="thanh-lap-doanh-nghiep");G("/user/san-pham/".concat(t),{state:n})}(e)},children:(0,S.jsx)(s.Z,{})})}),(0,S.jsx)(h.Z,{title:"Thanh to\xe1n",color:"blue",children:(0,S.jsx)(p.Z,{size:"large",type:"primary",shape:"circle",disabled:e.payment,onClick:function(){return function(n){var e=new Date,t={createDate:(0,g.ZP)(e,"yyyymmddHHmmss"),orderId:(0,g.ZP)(e,"HHmmss"),amount:100*+(null===n||void 0===n?void 0:n.price),orderInfo:null===n||void 0===n?void 0:n._id};return L(t)}(e)},children:(0,S.jsx)(x.EdE,{})})})]})}})]}),(0,S.jsx)(v.Z,{visible:T.visible,footer:null,bodyStyle:null,width:T.width,onCancel:function(){return M()},children:T.component}),(0,S.jsx)(P,(0,r.Z)((0,r.Z)({},O),{},{closeModal:M}))]})},P=function(n){return(0,S.jsx)(f.Z,{visible:n.visible,width:n.width,onClose:n.closeModal,destroyOnClose:!0,children:(0,S.jsx)(m.Z,{})})}}}]);
//# sourceMappingURL=199.dcc774f8.chunk.js.map