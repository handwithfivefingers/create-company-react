"use strict";(self.webpackChunkcreate_company=self.webpackChunkcreate_company||[]).push([[859],{65859:function(e,t,n){n.r(t),n.d(t,{default:function(){return T}});var a=n(1413),r=n(15861),i=n(29439),s=n(87757),c=n.n(s),l=n(72791),o=n(87661),u=n(80570),d=n(49389),m=n(87309),p=n(83734),h=n(50419),f=n(66871),v=n(66106),Z=n(30914),x=n(39772),g=n(72525),j="/admin/email/setting",w="/admin/email/setting",b={getSetting:function(){return g.Z.get(j)},updateSetting:function(e){return g.Z.post(w,e)}},k=n(80184),y=o.Z.TabPane,_=(0,l.forwardRef)((function(e,t){return(0,k.jsx)(u.Z,{onFinish:null===e||void 0===e?void 0:e.passwordSubmit,ref:t,layout:"vertical",children:(0,k.jsxs)(u.Z.Item,{label:(0,k.jsx)("h3",{children:"\u0110\u1ed5i m\u1eadt kh\u1ea9u"}),children:[(0,k.jsx)(u.Z.Item,{name:"old_password",children:(0,k.jsx)(d.Z.Password,{placeholder:"M\u1eadt kh\u1ea9u hi\u1ec7n t\u1ea1i"})}),(0,k.jsx)(u.Z.Item,{name:"new_password",children:(0,k.jsx)(d.Z.Password,{placeholder:"M\u1eadt kh\u1ea9u m\u1edbi"})}),(0,k.jsx)(u.Z.Item,{name:"confirm_password",children:(0,k.jsx)(d.Z.Password,{placeholder:"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u m\u1edbi"})}),(0,k.jsx)(u.Z.Item,{children:(0,k.jsx)(m.Z,{htmlType:"submit",loading:null===e||void 0===e?void 0:e.loading,children:"X\xe1c nh\u1eadn"})})]})})})),S=(0,l.forwardRef)((function(e,t){var n,a;return(0,l.useEffect)((function(){var n=null===e||void 0===e?void 0:e.settingMail,a=n.mailRegister,r=n.mailPayment;a&&t.current.setFieldsValue({mailRegister:a._id}),r&&t.current.setFieldsValue({mailPayment:r._id})}),[e]),(0,k.jsxs)(u.Z,{ref:t,onFinish:e.mailSubmit,layout:"vertical",children:[(0,k.jsx)(u.Z.Item,{label:"Mail \u0111\u0103ng k\xed",name:"mailRegister",children:(0,k.jsx)(p.Z,{children:null===(n=e.options)||void 0===n?void 0:n.map((function(e){return(0,k.jsx)(p.Z.Option,{value:e._id,children:e.name},e._id)}))})}),(0,k.jsx)(u.Z.Item,{label:"Mail Thanh To\xe1n",name:"mailPayment",children:(0,k.jsx)(p.Z,{children:null===(a=e.options)||void 0===a?void 0:a.map((function(e){return(0,k.jsx)(p.Z.Option,{value:e._id,children:e.name},e._id)}))})}),(0,k.jsx)(u.Z.Item,{children:(0,k.jsx)(m.Z,{htmlType:"submit",loading:null===e||void 0===e?void 0:e.loading,children:"X\xe1c nh\u1eadn"})})]})})),T=function(){var e=(0,l.useRef)(),t=(0,l.useRef)(),n=(0,l.useState)(!1),s=(0,i.Z)(n,2),u=s[0],d=s[1],m=(0,l.useState)([]),p=(0,i.Z)(m,2),g=p[0],j=p[1],w=(0,l.useState)({}),T=(0,i.Z)(w,2),P=T[0],I=T[1];(0,l.useEffect)((function(){R(),F()}),[]);var M=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,b.updateSetting((0,a.Z)({},t));case 4:n=e.sent,h.ZP.success(n.data.message),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,F(),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=(0,r.Z)(c().mark((function e(){var t,n,a,r=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:1,d(!0),n={page:t},e.prev=3,e.next=6,x.Z.getTemplate(n);case 6:200===(a=e.sent).data.status?j(a.data.data._template):h.ZP.error(a.data.message),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:return e.prev=13,d(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=(0,r.Z)(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,b.getSetting();case 4:t=e.sent,n=t.data.data,I(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:return e.prev=12,d(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),C=[{name:"\u0110\u1ed5i m\u1eadt kh\u1ea9u",content:(0,k.jsx)(_,{passwordSubmit:function(e){console.log(e)},ref:e,loading:u})},{name:"Mail",content:(0,k.jsx)(S,{mailSubmit:M,ref:t,options:g,settingMail:P,loading:u})}];return(0,k.jsx)(f.Z,{title:"C\xe0i \u0111\u1eb7t",children:(0,k.jsx)(v.Z,{gutter:[16,12],children:(0,k.jsx)(Z.Z,{span:24,children:(0,k.jsx)(o.Z,{defaultActiveKey:"1",children:C.map((function(e){return(0,k.jsx)(y,{tab:e.name,children:e.content},e.name)}))})})})})}},39772:function(e,t,n){var a=n(72525),r="/admin/template",i="/admin/template/delete",s="/admin/template",c="/admin/template/edit",l={getTemplate:function(e){return a.Z.get(r,{params:e})},addTemplate:function(e){return a.Z.post(s,e)},editTemplate:function(e){return a.Z.post("".concat(c,"/").concat(e._id),e)},deleteTemplate:function(e){return a.Z.post("".concat(i,"/").concat(e))}};t.Z=l}}]);
//# sourceMappingURL=859.61a42024.chunk.js.map