"use strict";(self.webpackChunkcreate_company=self.webpackChunkcreate_company||[]).push([[766],{48403:function(n,e,t){t.d(e,{Z:function(){return o}});t(72791);var r=t(69221),i="styles_pagi__31d6H",c=t(80184);function o(n){return(0,c.jsx)(r.Z,{className:i,size:"small",total:null===n||void 0===n?void 0:n.total,current:null===n||void 0===n?void 0:n.current,pageSize:null===n||void 0===n?void 0:n.pageSize,onChange:null===n||void 0===n?void 0:n.onChange,showSizeChanger:null===n||void 0===n?void 0:n.showSizeChanger})}},28766:function(n,e,t){t.r(e),t.d(e,{default:function(){return K}});var r=t(1413),i=t(15861),c=t(29439),o=t(87757),a=t.n(o),u=t(66871),s=t(80570),l=t(49389),d=t(87309),h=t(72791),f=t(80184),p=function(n){var e=(0,h.useRef)();return(0,f.jsx)(u.Z,{title:"Ng\xe0nh ngh\u1ec1",style:{minWidth:"350px"},bordered:!1,children:(0,f.jsxs)(s.Z,{onFinish:function(e){n.onFinishScreen&&n.onFinishScreen(e)},ref:e,layout:"vertical",children:[(0,f.jsx)(s.Z.Item,{name:"career_name",label:"T\xean ng\xe0nh",children:(0,f.jsx)(l.Z,{})}),(0,f.jsx)(s.Z.Item,{name:"career_code",label:"M\xe3 ng\xe0nh",children:(0,f.jsx)(l.Z,{style:{width:"100%"}})}),(0,f.jsx)(s.Z.Item,{children:(0,f.jsx)(d.Z,{htmlType:"submit",type:"primary",children:"T\u1ea1o"})})]})})},m=t(63281),Z=t(30501),v=t(12261),x=t(87661),g=t(50419),j=t(65873),y=t(83099),C=t(3290),w=t(88894),b=t(38243),S=t(72525),_=function(n){var e=(0,h.useState)(!1),t=(0,c.Z)(e,2),r=(t[0],t[1],(0,h.useState)([])),i=(0,c.Z)(r,2),o=(i[0],i[1],(0,h.useRef)());(0,h.useEffect)((function(){}),[]);return(0,f.jsx)(u.Z,{style:{minWidth:"350px"},title:"Danh m\u1ee5c",bordered:!1,children:(0,f.jsxs)(s.Z,{ref:o,onFinish:function(e){n.onFinishScreen&&n.onFinishScreen(e)},layout:"vertical",children:[(0,f.jsx)(s.Z.Item,{name:"name",label:"T\xean Danh M\u1ee5c",required:!0,children:(0,f.jsx)(l.Z,{})}),(0,f.jsx)(s.Z.Item,{name:"price",label:"Gi\xe1 ti\u1ec1n",children:(0,f.jsx)(l.Z,{})}),(0,f.jsx)(s.Z.Item,{name:"type",label:"Lo\u1ea1i Danh m\u1ee5c",required:!0,children:(0,f.jsx)(b.Z,{style:{width:"100%"}})}),(0,f.jsx)(s.Z.Item,{children:(0,f.jsxs)(y.Z,{size:"small",style:{float:"right"},children:[(0,f.jsx)(d.Z,{type:"primary",htmlType:"submit",children:"T\u1ea1o"}),(0,f.jsx)(d.Z,{type:"outline",children:"H\u1ee7y"})]})})]})})},k=t(83734),P="/product",F="/category",I={getProducts:function(){return S.Z.get(P)},getCategories:function(){return S.Z.get(F)}},T=t(62112),z=function(n){var e=(0,h.useState)(!1),t=(0,c.Z)(e,2),r=t[0],i=(t[1],(0,h.useState)([])),o=(0,c.Z)(i,2),a=o[0],p=o[1],m=(0,h.useState)([]),Z=(0,c.Z)(m,2),v=Z[0],x=Z[1],j=(0,h.useRef)();(0,h.useEffect)((function(){var e,t,r,i,c,o,a;j.current.setFieldsValue({name:(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.name)||"",price:(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.price)||"",type:(null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.type)||"",parentId:(null===n||void 0===n||null===(i=n.data)||void 0===i||null===(c=i.parentId)||void 0===c?void 0:c.map((function(n){return n._id})))||[],categories:(null===n||void 0===n||null===(o=n.data)||void 0===o||null===(a=o.categories)||void 0===a?void 0:a.map((function(n){return n._id})))||[]}),y(),C()}),[n]);var y=function(){I.getProducts().then((function(n){if(200===n.data.status){var e=n.data.data;p(e)}else g.ZP.error(n.data.message)})).catch((function(n){return console.log(n)})).finally()},C=function(){I.getCategories().then((function(n){if(200===n.data.status){var e=n.data.data;x(e)}else g.ZP.error(n.data.message)})).catch((function(n){return console.log(n)})).finally()};return(0,f.jsx)(u.Z,{title:"edit"==n.type?"Ch\u1ec9nh s\u1eeda":"Th\xeam s\u1ea3n ph\u1ea9m",bordered:!1,children:(0,f.jsxs)(s.Z,{onFinish:function(e){var t=e.name,r=e.price,i=e.type,c=e.parentId,o={name:t,price:r,type:i,categories:e.categories};c&&(o.parentId=c),"edit"==n.type&&(o._id=n.data._id,n.onEventEdit(o)),"add"==n.type&&n.onEventAdd(o),n.onFinishScreen&&n.onFinishScreen()},layout:"vertical",ref:j,children:[(0,f.jsx)(s.Z.Item,{label:"Danh m\u1ee5c",name:"categories",children:(0,f.jsx)(k.Z,{showSearch:!0,mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:"Please select",optionFilterProp:"children",filterOption:function(n,e){var t,r,i;return(null===(t=e.children)||void 0===t||null===(r=t.join(""))||void 0===r||null===(i=r.toLowerCase())||void 0===i?void 0:i.indexOf(n.toLowerCase()))>=0},children:null===v||void 0===v?void 0:v.map((function(n){return(0,f.jsx)(k.Z.Option,{value:n._id,children:n.name},n._id)}))})}),(0,f.jsx)(s.Z.Item,{label:"S\u1ea3n ph\u1ea9m ch\xednh",name:"parentId",children:(0,f.jsx)(k.Z,{showSearch:!0,mode:"multiple",allowClear:!0,optionFilterProp:"children",filterOption:function(n,e){var t,r,i;return(null===(t=e.children)||void 0===t||null===(r=t.join(""))||void 0===r||null===(i=r.toLowerCase())||void 0===i?void 0:i.indexOf(n.toLowerCase()))>=0},style:{width:"100%"},placeholder:"Please select",children:null===a||void 0===a?void 0:a.map((function(n){return(0,f.jsx)(k.Z.Option,{value:n._id,children:n.name},n._id)}))})}),(0,f.jsx)(s.Z.Item,{label:"T\xean s\u1ea3n ph\u1ea9m",name:"name",children:(0,f.jsx)(l.Z,{})}),(0,f.jsx)(s.Z.Item,{label:"Gi\xe1 ti\u1ec1n",name:"price",children:(0,f.jsx)(b.Z,{formatter:function(n){return"".concat(n).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(n){return n.replace(/\$\s?|(,*)/g,"")},style:{width:"100%"}})}),(0,f.jsx)(s.Z.Item,{label:"Type",name:"type",children:(0,f.jsx)(l.Z,{})}),(0,f.jsx)(s.Z.Item,{children:(0,f.jsx)(d.Z,{loading:r,htmlType:"submit",children:"X\xe1c nh\u1eadn"})})]})})},E="/product",L="/product/create",O="/product/edit",D="/product",M="/admin/category",N="/admin/category/update",A="/admin/category/create",G="/nganhnghe",H="/nganhnghe",R="/nganhnghe/delete",V={getProduct:function(){return S.Z.get(E)},editProduct:function(n){return S.Z.post("".concat(O,"/").concat(n._id),n)},createProduct:function(n){return S.Z.post(L,n)},deleteProduct:function(n){return S.Z.delete("".concat(D,"/").concat(n._id),n)},getCategory:function(){return S.Z.get("".concat(M))},updateCategories:function(n){return S.Z.post("".concat(N,"/").concat(n._id),n)},createCategory:function(n){return S.Z.post("".concat(A),n)},getCareer:function(){return S.Z.get(G)},createCareer:function(n){return S.Z.post(H,n)},deleteCareer:function(n){return S.Z.post("".concat(R,"/").concat(n))}},B=(t(48403),x.Z.TabPane),K=function(n){var e=(0,h.useState)([]),t=(0,c.Z)(e,2),o=t[0],s=t[1],l=(0,h.useState)([]),b=(0,c.Z)(l,2),k=b[0],P=b[1],F=(0,h.useState)(!1),I=(0,c.Z)(F,2),E=I[0],L=I[1],O=(0,h.useState)([]),D=(0,c.Z)(O,2),M=D[0],N=D[1],A=(0,h.useState)({visible:!1,width:0,component:null}),G=(0,c.Z)(A,2),H=G[0],R=G[1];(0,h.useEffect)((function(){q(),W(),K()}),[]);var K=function(){var n=(0,i.Z)(a().mark((function n(){var e,t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,S.Z.get("/nganhnghe");case 3:e=n.sent,200===(t=e.data).status&&N(t.data),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0),g.ZP.error(o.message||o.error);case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}(),q=function(){L(!0),V.getProduct().then((function(n){if(200===n.data.status){var e=n.data.data.map((function(n){return(0,r.Z)((0,r.Z)({},n),{},{children:n.children.map((function(n){return(0,r.Z)((0,r.Z)({},n),{},{_uuid:(0,T.YO)(9)})}))})}));s(e)}})).finally((function(){return L(!1)}))},W=function(){V.getCategory().then((function(n){200===n.data.status&&P(n.data.data)})).catch((function(n){return console.log(n)}))},X=function(n){n&&R({visible:!0,width:"50%",component:(0,f.jsx)(z,{type:"edit",data:n,onEventEdit:function(n){return Y(n)},onFinishScreen:function(){q(),en()}})})},Y=function(n){V.editProduct(n).then((function(n){console.log(n)})).catch((function(n){return console.log(n)}))},$=function(){var n=(0,i.Z)(a().mark((function n(e){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,V.createProduct(e);case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),console.log(n.t0);case 8:return n.prev=8,L(!1),q(),n.finish(8);case 12:case"end":return n.stop()}}),n,null,[[0,5,8,12]])})));return function(e){return n.apply(this,arguments)}}(),J=function(n){var e={name:n.career_name,code:n.career_code};V.createCareer(e).then((function(n){return console.log(n)})).catch((function(n){return console.log(n)}))},Q=function(){var n=(0,i.Z)(a().mark((function n(e){var t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,V.deleteCareer(e._id);case 3:200===(t=n.sent).data.status&&g.ZP.success(t.data.message),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:return n.prev=10,K(),n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[0,7,10,13]])})));return function(e){return n.apply(this,arguments)}}(),U=function(){var n=(0,i.Z)(a().mark((function n(e){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,L(!0),n.next=4,V.updateCategories(e);case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:return n.prev=9,W(),L(!1),n.finish(9);case 13:case"end":return n.stop()}}),n,null,[[0,6,9,13]])})));return function(e){return n.apply(this,arguments)}}(),nn=function(){var n=(0,i.Z)(a().mark((function n(e){var t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,V.createCategory(e);case 3:201===(t=n.sent).data.status&&g.ZP.success(t.data.message),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:return n.prev=10,W(),n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[0,7,10,13]])})));return function(e){return n.apply(this,arguments)}}(),en=function(){R((0,r.Z)((0,r.Z)({},H),{},{visible:!1}))};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(u.Z,{className:"cc-card",title:"S\u1ea3n ph\u1ea9m",extra:(0,f.jsxs)(y.Z,{children:[(0,f.jsx)(d.Z,{type:"action",onClick:function(){R({visible:!0,width:"50%",component:(0,f.jsx)(z,{type:"add",onEventAdd:function(n){return $(n)},onFinishScreen:function(){q(),en()}})})},icon:(0,f.jsx)(m.Z,{}),children:"Th\xeam s\u1ea3n ph\u1ea9m"}),(0,f.jsx)(d.Z,{type:"action",onClick:function(){R({visible:!0,width:"50%",component:(0,f.jsx)(_,{onFinishScreen:function(n){nn(n),en()}})})},icon:(0,f.jsx)(m.Z,{}),children:"Th\xeam danh m\u1ee5c"}),(0,f.jsx)(d.Z,{type:"action",onClick:function(){R({visible:!0,width:"50%",component:(0,f.jsx)(p,{onFinishScreen:function(n){J(n),en()}})})},icon:(0,f.jsx)(m.Z,{}),children:"Th\xeam ng\xe0nh ngh\xea"})]}),bordered:!1,children:(0,f.jsxs)(x.Z,{defaultActiveKey:"1",children:[(0,f.jsx)(B,{tab:"Danh m\u1ee5c",children:(0,f.jsxs)(C.Z,{loading:{spinning:E,tip:"Loading...",delay:100},dataSource:k,pagination:!1,size:"small",bordered:!0,children:[(0,f.jsx)(C.Z.Column,{title:"Danh m\u1ee5c",render:function(n,e,t){return e.name}}),(0,f.jsx)(C.Z.Column,{title:"Gi\xe1",width:"25%",render:function(n,e,t){return e.price}}),(0,f.jsx)(C.Z.Column,{title:"Lo\u1ea1i",width:"100px",render:function(n,e,t){return e.type}}),(0,f.jsx)(C.Z.Column,{title:"",width:"100px",render:function(n,e,t){return(0,f.jsx)(y.Z,{children:(0,f.jsx)(d.Z,{onClick:function(n){return function(n){n&&R({visible:!0,width:"50%",component:(0,f.jsx)(z,{type:"edit",data:n,onEventEdit:function(n){return U(n)},onFinishScreen:function(){W(),en()}})})}(e)},icon:(0,f.jsx)(Z.Z,{})})})}})]})},"1"),(0,f.jsx)(B,{tab:"S\u1ea3n ph\u1ea9m",children:(0,f.jsxs)(C.Z,{loading:{spinning:E,tip:"Loading...",delay:100},bordered:!0,dataSource:o,pagination:!1,rowKey:function(n){return n._uuid||n._id},size:"small",children:[(0,f.jsx)(C.Z.Column,{title:"T\xean s\u1ea3n ph\u1ea9m",render:function(n,e,t){return null===e||void 0===e?void 0:e.name}}),(0,f.jsx)(C.Z.Column,{title:"Gi\xe1 ti\u1ec1n",width:"25%",render:function(n,e,t){return"".concat((0,T.AZ)(null===e||void 0===e?void 0:e.price)," VND")}}),(0,f.jsx)(C.Z.Column,{title:"",width:"100px",render:function(n,e,t){return(0,f.jsxs)(y.Z,{children:[(0,f.jsx)(d.Z,{onClick:function(n){return X(e)},icon:(0,f.jsx)(Z.Z,{})}),(0,f.jsx)(d.Z,{onClick:function(n){return function(n){console.log(n),j.Z.confirm({title:"B\u1ea1n c\xf3 ch\u1eafc ?",content:"Mu\u1ed1n x\xf3a s\u1ea3n ph\u1ea9m ".concat(n.name),onCancel:function(){return en()},onOk:function(){V.deleteProduct(n).then((function(n){200===n.data.status&&g.ZP.success(n.data.message)})).finally((function(){L(!1),q()}))}})}(e)},icon:(0,f.jsx)(v.Z,{})})]})}})]})},"2"),(0,f.jsx)(B,{tab:"Ng\xe0nh ngh\u1ec1",children:(0,f.jsxs)(C.Z,{dataSource:M,rowKey:function(n){return n._uuid||n._id},size:"small",bordered:!0,children:[(0,f.jsx)(C.Z.Column,{title:"T\xean ng\xe0nh",render:function(n,e,t){return e.name}}),(0,f.jsx)(C.Z.Column,{title:"M\xe3 ng\xe0nh",width:"25%",render:function(n,e,t){return e.code}}),(0,f.jsx)(C.Z.Column,{width:"100px",title:"",render:function(n,e,t){return(0,f.jsxs)(y.Z,{children:[(0,f.jsx)(d.Z,{onClick:function(n){return X(e)},icon:(0,f.jsx)(Z.Z,{})}),(0,f.jsx)(d.Z,{onClick:function(n){return Q(e)},icon:(0,f.jsx)(v.Z,{})})]})}})]})},"3")]})}),(0,f.jsx)(w.Z,{visible:H.visible,width:H.width,onClose:en,destroyOnClose:!0,children:H.component})]})}},30501:function(n,e,t){t.d(e,{Z:function(){return u}});var r=t(1413),i=t(72791),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"},o=t(54291),a=function(n,e){return i.createElement(o.Z,(0,r.Z)((0,r.Z)({},n),{},{ref:e,icon:c}))};a.displayName="FormOutlined";var u=i.forwardRef(a)}}]);
//# sourceMappingURL=766.9af5897c.chunk.js.map