"use strict";(self.webpackChunkcreate_company=self.webpackChunkcreate_company||[]).push([[766],{48403:function(n,e,t){t.d(e,{Z:function(){return c}});t(72791);var i=t(69221),r="styles_pagi__5-NKm",o=t(80184);function c(n){return(0,o.jsx)(i.Z,{className:r,size:"small",total:null===n||void 0===n?void 0:n.total,current:null===n||void 0===n?void 0:n.current,pageSize:null===n||void 0===n?void 0:n.pageSize,onChange:null===n||void 0===n?void 0:n.onChange,showSizeChanger:null===n||void 0===n?void 0:n.showSizeChanger})}},28766:function(n,e,t){t.r(e),t.d(e,{default:function(){return H}});var i=t(1413),r=t(15861),o=t(29439),c=t(87757),a=t.n(c),u=t(66871),l=t(80570),s=t(49389),d=t(87309),h=t(72791),f=t(80184),m=function(n){var e=(0,h.useRef)();return(0,f.jsx)(u.Z,{title:"Ng\xe0nh ngh\u1ec1",style:{minWidth:"350px"},bordered:!1,children:(0,f.jsxs)(l.Z,{onFinish:function(e){n.onFinishScreen&&n.onFinishScreen(e)},ref:e,layout:"vertical",children:[(0,f.jsx)(l.Z.Item,{name:"career_name",label:"T\xean ng\xe0nh",children:(0,f.jsx)(s.Z,{})}),(0,f.jsx)(l.Z.Item,{name:"career_code",label:"M\xe3 ng\xe0nh",children:(0,f.jsx)(s.Z,{style:{width:"100%"}})}),(0,f.jsx)(l.Z.Item,{children:(0,f.jsx)(d.Z,{htmlType:"submit",type:"primary",children:"T\u1ea1o"})})]})})},Z=t(63281),p=t(30501),x=t(12261),g=t(87661),j=t(50419),v=t(65873),y=t(83099),C=t(44515),w=t(88894),b=t(38243),S=t(72525),_=function(n){var e=(0,h.useState)(!1),t=(0,o.Z)(e,2),i=(t[0],t[1],(0,h.useState)([])),r=(0,o.Z)(i,2),c=(r[0],r[1],(0,h.useRef)());(0,h.useEffect)((function(){}),[]);return(0,f.jsx)(u.Z,{style:{minWidth:"350px"},title:"Danh m\u1ee5c",bordered:!1,children:(0,f.jsxs)(l.Z,{ref:c,onFinish:function(e){n.onFinishScreen&&n.onFinishScreen(e)},layout:"vertical",children:[(0,f.jsx)(l.Z.Item,{name:"name",label:"T\xean Danh M\u1ee5c",required:!0,children:(0,f.jsx)(s.Z,{})}),(0,f.jsx)(l.Z.Item,{name:"price",label:"Gi\xe1 ti\u1ec1n",children:(0,f.jsx)(s.Z,{})}),(0,f.jsx)(l.Z.Item,{name:"type",label:"Lo\u1ea1i Danh m\u1ee5c",required:!0,children:(0,f.jsx)(b.Z,{style:{width:"100%"}})}),(0,f.jsx)(l.Z.Item,{children:(0,f.jsxs)(y.Z,{size:"small",style:{float:"right"},children:[(0,f.jsx)(d.Z,{type:"primary",htmlType:"submit",children:"T\u1ea1o"}),(0,f.jsx)(d.Z,{type:"outline",children:"H\u1ee7y"})]})})]})})},P=t(83734),F="/product",I="/category",T={getProducts:function(){return S.Z.get(F)},getCategories:function(){return S.Z.get(I)}},k=t(62112),z=function(n){var e=(0,h.useState)(!1),t=(0,o.Z)(e,2),i=t[0],r=(t[1],(0,h.useState)([])),c=(0,o.Z)(r,2),a=c[0],m=c[1],Z=(0,h.useState)([]),p=(0,o.Z)(Z,2),x=p[0],g=p[1],v=(0,h.useRef)();(0,h.useEffect)((function(){var e,t,i,r,o,c,a;v.current.setFieldsValue({name:(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.name)||"",price:(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.price)||"",type:(null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.type)||"",parentId:(null===n||void 0===n||null===(r=n.data)||void 0===r||null===(o=r.parentId)||void 0===o?void 0:o.map((function(n){return n._id})))||[],categories:(null===n||void 0===n||null===(c=n.data)||void 0===c||null===(a=c.categories)||void 0===a?void 0:a.map((function(n){return n._id})))||[]}),y(),C()}),[n]);var y=function(){T.getProducts().then((function(n){if(200===n.data.status){var e=n.data.data;m(e)}else j.ZP.error(n.data.message)})).catch((function(n){return console.log(n)})).finally()},C=function(){T.getCategories().then((function(n){if(200===n.data.status){var e=n.data.data;g(e)}else j.ZP.error(n.data.message)})).catch((function(n){return console.log(n)})).finally()};return(0,f.jsx)(u.Z,{title:"edit"==n.type?"Ch\u1ec9nh s\u1eeda":"Th\xeam s\u1ea3n ph\u1ea9m",bordered:!1,children:(0,f.jsxs)(l.Z,{onFinish:function(e){var t=e.name,i=e.price,r=e.type,o=e.parentId,c={name:t,price:i,type:r,categories:e.categories};o&&(c.parentId=o),"edit"==n.type&&(c._id=n.data._id,n.onEventEdit(c)),"add"==n.type&&n.onEventAdd(c),n.onFinishScreen&&n.onFinishScreen()},layout:"vertical",ref:v,children:[(0,f.jsx)(l.Z.Item,{label:"Danh m\u1ee5c",name:"categories",children:(0,f.jsx)(P.Z,{showSearch:!0,mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:"Please select",optionFilterProp:"children",filterOption:function(n,e){return e.children.join("").toLowerCase().indexOf(n.toLowerCase())>=0},children:null===x||void 0===x?void 0:x.map((function(n){return(0,f.jsx)(P.Z.Option,{value:n._id,children:n.name},n._id)}))})}),(0,f.jsx)(l.Z.Item,{label:"S\u1ea3n ph\u1ea9m ch\xednh",name:"parentId",children:(0,f.jsx)(P.Z,{showSearch:!0,mode:"multiple",allowClear:!0,optionFilterProp:"children",filterOption:function(n,e){return e.children.join("").toLowerCase().indexOf(n.toLowerCase())>=0},style:{width:"100%"},placeholder:"Please select",children:null===a||void 0===a?void 0:a.map((function(n){return(0,f.jsx)(P.Z.Option,{value:n._id,children:n.name},n._id)}))})}),(0,f.jsx)(l.Z.Item,{label:"T\xean s\u1ea3n ph\u1ea9m",name:"name",children:(0,f.jsx)(s.Z,{})}),(0,f.jsx)(l.Z.Item,{label:"Gi\xe1 ti\u1ec1n",name:"price",children:(0,f.jsx)(b.Z,{formatter:function(n){return"".concat(n).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(n){return n.replace(/\$\s?|(,*)/g,"")},style:{width:"100%"}})}),(0,f.jsx)(l.Z.Item,{label:"Type",name:"type",children:(0,f.jsx)(s.Z,{})}),(0,f.jsx)(l.Z.Item,{children:(0,f.jsx)(d.Z,{loading:i,htmlType:"submit",children:"X\xe1c nh\u1eadn"})})]})})},E="/product",O="/product/create",L="/product/edit",D="/product",N="/admin/category",M="/admin/category/update",A="/admin/category/create",G="/nganhnghe",K="/nganhnghe",R="/nganhnghe/delete",V={getProduct:function(){return S.Z.get(E)},editProduct:function(n){return S.Z.post("".concat(L,"/").concat(n._id),n)},createProduct:function(n){return S.Z.post(O,n)},deleteProduct:function(n){return S.Z.post("".concat(D,"/").concat(n._id),n)},getCategory:function(){return S.Z.get("".concat(N))},updateCategories:function(n){return S.Z.post("".concat(M,"/").concat(n._id),n)},createCategory:function(n){return S.Z.post("".concat(A),n)},getCareer:function(){return S.Z.get(G)},createCareer:function(n){return S.Z.post(K,n)},deleteCareer:function(n){return S.Z.post("".concat(R,"/").concat(n))}},B=(t(48403),g.Z.TabPane),H=function(n){var e=(0,h.useState)([]),t=(0,o.Z)(e,2),c=t[0],l=t[1],s=(0,h.useState)([]),b=(0,o.Z)(s,2),P=b[0],F=b[1],I=(0,h.useState)(!1),T=(0,o.Z)(I,2),E=T[0],O=T[1],L=(0,h.useState)([]),D=(0,o.Z)(L,2),N=D[0],M=D[1],A=(0,h.useState)({visible:!1,width:0,component:null}),G=(0,o.Z)(A,2),K=G[0],R=G[1];(0,h.useEffect)((function(){q(),W(),H()}),[]);var H=function(){var n=(0,r.Z)(a().mark((function n(){var e,t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,S.Z.get("/nganhnghe");case 3:e=n.sent,200===(t=e.data).status&&M(t.data),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0),j.ZP.error(c.message||c.error);case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}(),q=function(){O(!0),V.getProduct().then((function(n){if(200===n.data.status){var e=n.data.data.map((function(n){return(0,i.Z)((0,i.Z)({},n),{},{children:n.children.map((function(n){return(0,i.Z)((0,i.Z)({},n),{},{_uuid:(0,k.YO)(9)})}))})}));l(e)}})).finally((function(){return O(!1)}))},W=function(){V.getCategory().then((function(n){200===n.data.status&&F(n.data.data)})).catch((function(n){return console.log(n)}))},X=function(n){n&&R({visible:!0,width:"50%",component:(0,f.jsx)(z,{type:"edit",data:n,onEventEdit:function(n){return Y(n)},onFinishScreen:function(){q(),nn()}})})},Y=function(n){V.editProduct(n).then((function(n){console.log(n)})).catch((function(n){return console.log(n)}))},$=function(n){V.createProduct(n).then((function(n){console.log(n)})).catch((function(n){return console.log(n)})).finally((function(){O(!1),q()}))},J=function(n){var e={name:n.career_name,code:n.career_code};V.createCareer(e).then((function(n){return console.log(n)})).catch((function(n){return console.log(n)}))},Q=function(n){O(!0),V.updateCategories(n).then((function(n){console.log(n)})).catch((function(n){return console.log(n)})).finally((function(){W(),O(!1)}))},U=function(n){V.createCategory(n).then((function(n){201===n.data.status&&j.ZP.success(n.data.message)})).catch((function(n){return console.log(n)})).finally((function(){W()}))},nn=function(){R((0,i.Z)((0,i.Z)({},K),{},{visible:!1}))};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(u.Z,{className:"cc-card",title:"S\u1ea3n ph\u1ea9m",extra:(0,f.jsxs)(y.Z,{children:[(0,f.jsx)(d.Z,{type:"action",onClick:function(){R({visible:!0,width:"50%",component:(0,f.jsx)(z,{type:"add",onEventAdd:function(n){return $(n)},onFinishScreen:function(){q(),nn()}})})},icon:(0,f.jsx)(Z.Z,{}),children:"Th\xeam s\u1ea3n ph\u1ea9m"}),(0,f.jsx)(d.Z,{type:"action",onClick:function(){R({visible:!0,width:"50%",component:(0,f.jsx)(_,{onFinishScreen:function(n){U(n),nn()}})})},icon:(0,f.jsx)(Z.Z,{}),children:"Th\xeam danh m\u1ee5c"}),(0,f.jsx)(d.Z,{type:"action",onClick:function(){R({visible:!0,width:"50%",component:(0,f.jsx)(m,{onFinishScreen:function(n){J(n),nn()}})})},icon:(0,f.jsx)(Z.Z,{}),children:"Th\xeam ng\xe0nh ngh\xea"})]}),bordered:!1,children:(0,f.jsxs)(g.Z,{defaultActiveKey:"1",children:[(0,f.jsx)(B,{tab:"Danh m\u1ee5c",children:(0,f.jsxs)(C.Z,{loading:E,dataSource:P,pagination:!1,size:"small",bordered:!0,children:[(0,f.jsx)(C.Z.Column,{title:"Danh m\u1ee5c",render:function(n,e,t){return e.name}}),(0,f.jsx)(C.Z.Column,{title:"Gi\xe1",width:"25%",render:function(n,e,t){return e.price}}),(0,f.jsx)(C.Z.Column,{title:"Lo\u1ea1i",width:"100px",render:function(n,e,t){return e.type}}),(0,f.jsx)(C.Z.Column,{title:"",width:"100px",render:function(n,e,t){return(0,f.jsx)(y.Z,{children:(0,f.jsx)(d.Z,{onClick:function(n){return function(n){n&&R({visible:!0,width:"50%",component:(0,f.jsx)(z,{type:"edit",data:n,onEventEdit:function(n){return Q(n)},onFinishScreen:function(){W(),nn()}})})}(e)},icon:(0,f.jsx)(p.Z,{})})})}})]})},"1"),(0,f.jsx)(B,{tab:"S\u1ea3n ph\u1ea9m",children:(0,f.jsxs)(C.Z,{loading:E,bordered:!0,dataSource:c,pagination:!1,rowKey:function(n){return n._uuid||n._id},size:"small",children:[(0,f.jsx)(C.Z.Column,{title:"T\xean s\u1ea3n ph\u1ea9m",render:function(n,e,t){return null===e||void 0===e?void 0:e.name}}),(0,f.jsx)(C.Z.Column,{title:"Gi\xe1 ti\u1ec1n",width:"25%",render:function(n,e,t){return"".concat((0,k.AZ)(null===e||void 0===e?void 0:e.price)," VND")}}),(0,f.jsx)(C.Z.Column,{title:"",width:"100px",render:function(n,e,t){return(0,f.jsxs)(y.Z,{children:[(0,f.jsx)(d.Z,{onClick:function(n){return X(e)},icon:(0,f.jsx)(p.Z,{})}),(0,f.jsx)(d.Z,{onClick:function(n){return function(n){v.Z.confirm({title:"B\u1ea1n c\xf3 ch\u1eafc ?",content:"Mu\u1ed1n x\xf3a s\u1ea3n ph\u1ea9m ".concat(n.name),onCancel:function(){return nn()},onOk:function(){V.deleteProduct(n).then((function(n){200===n.data.status&&j.ZP.success(n.data.message)})).finally((function(){O(!1),q()}))}})}(e)},icon:(0,f.jsx)(x.Z,{})})]})}})]})},"2"),(0,f.jsx)(B,{tab:"Ng\xe0nh ngh\u1ec1",children:(0,f.jsxs)(C.Z,{dataSource:N,rowKey:function(n){return n._uuid||n._id},size:"small",bordered:!0,children:[(0,f.jsx)(C.Z.Column,{title:"T\xean ng\xe0nh",render:function(n,e,t){return e.name}}),(0,f.jsx)(C.Z.Column,{title:"M\xe3 ng\xe0nh",width:"25%",render:function(n,e,t){return e.code}}),(0,f.jsx)(C.Z.Column,{width:"100px",title:"",render:function(n,e,t){return(0,f.jsxs)(y.Z,{children:[(0,f.jsx)(d.Z,{onClick:function(n){return X(e)},icon:(0,f.jsx)(p.Z,{})}),(0,f.jsx)(d.Z,{onClick:function(n){return function(n){V.deleteCareer(n._id).then((function(n){200===n.data.status&&j.ZP.success(n.data.message)})).catch((function(n){return console.log(n)})).finally((function(){H()}))}(e)},icon:(0,f.jsx)(x.Z,{})})]})}})]})},"3")]})}),(0,f.jsx)(w.Z,{visible:K.visible,width:K.width,onClose:nn,destroyOnClose:!0,children:K.component})]})}},30501:function(n,e,t){t.d(e,{Z:function(){return u}});var i=t(1413),r=t(72791),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"},c=t(54291),a=function(n,e){return r.createElement(c.Z,(0,i.Z)((0,i.Z)({},n),{},{ref:e,icon:o}))};a.displayName="FormOutlined";var u=r.forwardRef(a)}}]);
//# sourceMappingURL=766.9579d032.chunk.js.map