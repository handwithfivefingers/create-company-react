{"version":3,"file":"static/js/516.d20b9c78.chunk.js","mappings":"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","sources":["components/PDFViewer/index.js","pages/Admin/AdminOrder/OrderItem/index.js","service/AdminService/AdminOrderService.js"],"sourcesContent":["import React from 'react';\r\nimport WebViewer, { getInstance } from '@pdftron/webviewer';\r\nimport { Button, Card, Drawer, Form, Input, List, message, Modal, Space, Typography, Radio } from 'antd';\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport ReactDOMServer from 'react-dom/server';\r\nimport { RiPlayList2Fill } from 'react-icons/ri';\r\nimport { BiDownload } from 'react-icons/bi';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production' ? '/public' : 'http://localhost:3001/public';\r\n\r\nconst PDFViewer = (props) => {\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  const [initialDoc, setInitialDoc] = useState('/files/dieulecanhan.docx');\r\n\r\n  const [filePath, setFilePath] = useState('');\r\n\r\n  const [childModal, setChildModal] = useState({\r\n    visible: false,\r\n    component: null,\r\n    width: 0,\r\n  });\r\n\r\n  const refViewer = useRef();\r\n\r\n  // const insRef = useRef();\r\n  // const listfiles = props?.data?.files;\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      let instance = getInstance();\r\n      if (instance) {\r\n        // console.log(instance);\r\n        instance?.dispose();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let instance = getInstance();\r\n    if (!instance) renderPDF(refViewer, initialDoc, props?.data?.files);\r\n    else updateFiles();\r\n  }, [initialDoc, props]);\r\n\r\n  const showDrawer = () => {\r\n    setVisible(true);\r\n  };\r\n\r\n  const onClose = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  const filledJson = async (val) => {\r\n    // console.log(val);\r\n    const insRef = getInstance();\r\n    const { documentViewer } = insRef?.Core;\r\n    const doc = documentViewer.getDocument();\r\n    await doc.documentCompletePromise();\r\n    documentViewer.updateView();\r\n    await doc.applyTemplateValues(val);\r\n  };\r\n\r\n  const handleCheckFile = async (files) => {\r\n    // console.log(\"handle check file\");\r\n    // console.log('handle check file', files);\r\n    // console.log(files);\r\n\r\n    Modal.confirm({\r\n      closable: true,\r\n      content: (\r\n        <Radio.Group buttonStyle=\"solid\" style={{ width: '100%' }}>\r\n          <List\r\n            header={<div>List files</div>}\r\n            bordered\r\n            dataSource={files}\r\n            renderItem={(item) => (\r\n              <List.Item\r\n                onClick={(e) => {\r\n                  setInitialDoc(`${BASE_URL}${item.path}`);\r\n                  Modal.destroyAll();\r\n                }}\r\n              >\r\n                <List.Item.Meta\r\n                  // avatar={<Avatar src={item.avatar} />}\r\n                  // title={<a href={item.href}>{item.title}</a>}\r\n                  description={\r\n                    <Radio.Button value={item.path} className=\"inline\">\r\n                      [Files] {item.name}\r\n                    </Radio.Button>\r\n                  }\r\n                />\r\n              </List.Item>\r\n            )}\r\n          />\r\n        </Radio.Group>\r\n      ),\r\n      footer: null,\r\n    });\r\n  };\r\n\r\n  const handlePluginPDFTron = (instance) => {\r\n    const {\r\n      setHeaderItems,\r\n      enableElements,\r\n      disableElements,\r\n      enableFeatures,\r\n      disableFeatures,\r\n      setTheme,\r\n      Feature,\r\n      Theme,\r\n    } = instance.UI;\r\n\r\n    if (NodeList && !NodeList.prototype.forEach) {\r\n      NodeList.prototype.forEach = Array.prototype.forEach;\r\n    }\r\n\r\n    if (HTMLCollection && !HTMLCollection.prototype.forEach) {\r\n      HTMLCollection.prototype.forEach = Array.prototype.forEach;\r\n    }\r\n\r\n    instance.UI?.disableElements(['ribbons']); //\r\n    instance.UI?.disableElements(['viewControlsButton']); //\r\n    // instance.UI?.disableElements([\"searchButton\"]);\r\n    instance.UI?.disableElements(['panToolButton']); //\r\n    instance.UI?.disableElements(['pageNavOverlay']); //\r\n\r\n    instance.UI?.disableFeatures(Feature.Download); //\r\n    instance.UI?.disableFeatures(Feature.TextSelection); //\r\n    // instance.UI?.disableFeatures(Feature.Annotations);\r\n    instance.UI?.disableFeatures(Feature.NotesPanel); //\r\n    instance.UI?.disableFeatures(Feature.FilePicker); //\r\n    // instance.UI?.disableFeatures([Feature.Print]);\r\n  };\r\n\r\n  const handleDownloadfile = async (documentViewer, annotationManager) => {\r\n    const insRef = getInstance();\r\n    insRef.UI.setPrintQuality(2);\r\n    insRef.UI.useEmbeddedPrint(true);\r\n    insRef.UI.print();\r\n  };\r\n\r\n  const renderPDF = async (ref, initialDoc = null, listDoc = null) => {\r\n    // console.log('renderPDF');\r\n    // console.log(props);\r\n    try {\r\n      let files = props.data.files;\r\n\r\n      if (!ref?.current?.hasChildNodes()) {\r\n        let params = {\r\n          path: '/lib',\r\n          initialDoc,\r\n          // extension: 'docx',\r\n          // showLocalFilePicker: true,\r\n          fullAPI: true,\r\n          // loadAsPDF: true,\r\n        };\r\n\r\n        let instance = await WebViewer(params, ref.current);\r\n\r\n        if (instance) {\r\n          // insRef.current = instance; // Set ins to handle when re-render\r\n          //Add new Button\r\n          // console.log(files);\r\n          const { documentViewer, annotationManager, PDFNet } = instance.Core;\r\n          const newButton = [\r\n            {\r\n              type: 'actionButton',\r\n              toolName: 'actionButton',\r\n              dataElement: 'actionButton',\r\n              className: 'list-btn',\r\n              hidden: ['mobile'],\r\n              onClick: () => handleCheckFile(files),\r\n            },\r\n            {\r\n              type: 'actionButton',\r\n              toolName: 'actionButton',\r\n              dataElement: 'actionButton',\r\n              className: 'list-btn',\r\n              hidden: ['mobile'],\r\n              onClick: () => handleDownloadfile(documentViewer, annotationManager),\r\n            },\r\n          ];\r\n\r\n          instance.setHeaderItems(function (header) {\r\n            let currentHeader = header.headers[header.headerGroup];\r\n            header.update([...currentHeader, ...newButton]);\r\n          });\r\n\r\n          const iframeDoc = instance.UI.iframeWindow.document;\r\n          const btn = iframeDoc.querySelectorAll('.list-btn');\r\n          btn.forEach((item, i) => {\r\n            if (i === 1) {\r\n              item.innerHTML = ReactDOMServer.renderToString(<BiDownload style={{ fontSize: '16px' }} />);\r\n            } else {\r\n              item.innerHTML = ReactDOMServer.renderToString(<RiPlayList2Fill style={{ fontSize: '16px' }} />);\r\n            }\r\n          });\r\n          documentViewer.addEventListener('documentLoaded', async () => {\r\n            // await PDFNet.initialize();\r\n            // const doc = documentViewer.getDocument();\r\n            // const pdfDoc = await doc.getPDFDoc();\r\n            // Ensure that we have our first page.\r\n            // await pdfDoc.requirePage(1);\r\n\r\n            // Run our main function using 'runWithCleanup'\r\n            // await PDFNet.runWithCleanup(async () => console.log('Running main function...'));\r\n\r\n            // Refresh the cache with the newly updated document\r\n            documentViewer.refreshAll();\r\n            // Update viewer with new document\r\n            documentViewer.updateView();\r\n          });\r\n          // Handle Plugin\r\n          handlePluginPDFTron(instance); //\r\n        }\r\n      }\r\n    } catch (err) {\r\n      // console.error('Error rendering PDF', err);\r\n    }\r\n  };\r\n  const updateFiles = () => {\r\n    const insRef = getInstance();\r\n    if (insRef) {\r\n      insRef.UI.loadDocument(initialDoc);\r\n    }\r\n  };\r\n  // console.log('viewer', props?.data?.files);\r\n\r\n  return <div className=\"webviewer\" ref={refViewer} style={{ height: 'calc(100vh - 100px)' }} />;\r\n};\r\n\r\nexport default PDFViewer;\r\n","// import WebViewer from \"@pdftron/webviewer\";\r\nimport WebViewer from '@pdftron/webviewer';\r\nimport { Button, Card, Drawer, Form, Input, message, Modal, Space } from 'antd';\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport ReactDOMServer from 'react-dom/server';\r\nimport { RiPlayList2Fill } from 'react-icons/ri';\r\nimport { useParams } from 'react-router-dom';\r\nimport PDFViewer from 'src/components/PDFViewer';\r\nimport AdminOrderService from 'src/service/AdminService/AdminOrderService';\r\nconst allFiles = {\r\n  create_company: {\r\n    personal: [\r\n      {\r\n        name: 'Test',\r\n        path: '/files/File_1A_DieuLeCaNhanTest.docx',\r\n      },\r\n      {\r\n        name: 'File_1A_DieuLeCaNhan',\r\n        path: '/files/File_1A_DieuLeCaNhan.docx',\r\n      },\r\n      {\r\n        name: 'File_1B_DieuLeToChuc',\r\n        path: '/files/File_1B_DieuLeToChuc.docx',\r\n      },\r\n      {\r\n        name: 'File_2_PhuLucI_2_GiayDeNghiDangKiMTV',\r\n        path: '/files/File_2_PhuLucI_2_GiayDeNghiDangKiMTV.docx',\r\n      },\r\n      {\r\n        name: 'File_3_UyQuyen',\r\n        path: '/files/File_3_UyQuyen.doc',\r\n      },\r\n      {\r\n        name: 'File_4_PhuLucI_10_DanhSachNguoiDaiDien',\r\n        path: '/files/File_4_PhuLucI_10_DanhSachNguoiDaiDien.docx',\r\n      },\r\n    ],\r\n    original: [\r\n      {\r\n        name: 'File_1B_DieuLeCaNhan',\r\n        path: '/files/File_1B_DieuLeCaNhan.docx',\r\n      },\r\n      {\r\n        name: 'File_2_PhuLucI_2_GiayDeNghiDangKiMTV',\r\n        path: '/files/File_2_PhuLucI_2_GiayDeNghiDangKiMTV.docx',\r\n      },\r\n      {\r\n        name: 'File_3_UyQuyen',\r\n        path: '/files/File_3_UyQuyen.docx',\r\n      },\r\n      {\r\n        name: 'File_4_PhuLucI_10_DanhSachNguoiDaiDien',\r\n        path: '/files/File_4_PhuLucI_10_DanhSachNguoiDaiDien.docx',\r\n      },\r\n    ],\r\n  },\r\n  change_info: {},\r\n};\r\n\r\nexport default function ClassComponentText(props) {\r\n  const refViewer = useRef();\r\n  const [visible, setVisible] = useState(false);\r\n  const [data, setData] = useState();\r\n  const [initialDoc, setInitialDoc] = useState('/files/dieulecanhan.docx');\r\n  // const [jsonData, setJsonData] = useState([]);\r\n  // const [instance, setInstance] = useState();\r\n  const slug = useParams();\r\n  const insRef = useRef();\r\n\r\n  useEffect(() => {\r\n    getScreenData(slug);\r\n    // console.log(slug);\r\n  }, []);\r\n\r\n  // useEffect(() => {\r\n  //   renderPDF(refViewer, initialDoc);\r\n  // }, [initialDoc]);\r\n\r\n  const showDrawer = () => {\r\n    setVisible(true);\r\n  };\r\n\r\n  const onClose = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  const getScreenData = (slug) => {\r\n    AdminOrderService.getOrderBySlug(slug)\r\n      .then((res) => {\r\n        if (res.data.status === 200) {\r\n          // console.log(res);\r\n          let { data } = res.data;\r\n          setData(data);\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const filledJson = async (val) => {\r\n    // console.log(val);\r\n    const { documentViewer } = insRef?.current.Core;\r\n    const doc = documentViewer.getDocument();\r\n    await doc.documentCompletePromise();\r\n    documentViewer.updateView();\r\n    await doc.applyTemplateValues(val);\r\n  };\r\n\r\n  const handleCheckFile = () => {\r\n    // console.log(\"handle check file\");\r\n    Modal.confirm({\r\n      content: (\r\n        <Space direction=\"vertical\">\r\n          {allFiles.create_company.personal.map((item) => (\r\n            <Button key={item.name} onClick={() => setInitialDoc(item.path)}>\r\n              {item.name}\r\n            </Button>\r\n          ))}\r\n        </Space>\r\n      ),\r\n      onOk() {\r\n        message.success('Ready to load files');\r\n      },\r\n    });\r\n  };\r\n\r\n  const handlePluginPDFTron = (instance) => {\r\n    const {\r\n      setHeaderItems,\r\n      enableElements,\r\n      disableElements,\r\n      enableFeatures,\r\n      disableFeatures,\r\n      setTheme,\r\n      Feature,\r\n      Theme,\r\n    } = instance.UI;\r\n\r\n    if (NodeList && !NodeList.prototype.forEach) {\r\n      NodeList.prototype.forEach = Array.prototype.forEach;\r\n    }\r\n\r\n    if (HTMLCollection && !HTMLCollection.prototype.forEach) {\r\n      HTMLCollection.prototype.forEach = Array.prototype.forEach;\r\n    }\r\n\r\n    instance.UI?.disableElements(['ribbons']); //\r\n    instance.UI?.disableElements(['viewControlsButton']); //\r\n    // instance.UI?.disableElements([\"searchButton\"]);\r\n    instance.UI?.disableElements(['panToolButton']); //\r\n    instance.UI?.disableElements(['pageNavOverlay']); //\r\n\r\n    instance.UI?.disableFeatures(Feature.Download); //\r\n    instance.UI?.disableFeatures(Feature.TextSelection); //\r\n    // instance.UI?.disableFeatures(Feature.Annotations);\r\n    instance.UI?.disableFeatures(Feature.NotesPanel); //\r\n    instance.UI?.disableFeatures(Feature.FilePicker); //\r\n    // instance.UI?.disableFeatures([Feature.Print]);\r\n  };\r\n\r\n  const handleDownloadfile = async (documentViewer, annotationManager) => {\r\n    insRef?.current.UI.setPrintQuality(2);\r\n    insRef?.current.UI.useEmbeddedPrint(true);\r\n    insRef?.current.UI.print();\r\n  };\r\n\r\n  const renderPDF = async (ref, initialDoc = null) => {\r\n    if (!ref?.current?.hasChildNodes()) {\r\n      let params = {\r\n        path: '/lib',\r\n        initialDoc,\r\n      };\r\n      WebViewer(params, ref.current).then((instance) => {\r\n        insRef.current = instance; // Set ins to handle when re-render\r\n        //Add new Button\r\n        const { documentViewer, annotationManager } = instance.Core;\r\n\r\n        instance.setHeaderItems(function (header) {\r\n          // console.log(header);\r\n          let currentHeader = header.headers[header.headerGroup];\r\n          const newButton = [\r\n            {\r\n              type: 'actionButton',\r\n              toolName: 'actionButton',\r\n              dataElement: 'actionButton',\r\n              className: 'list-btn',\r\n              hidden: ['mobile'],\r\n              onClick: () => handleCheckFile(documentViewer),\r\n            },\r\n            {\r\n              type: 'actionButton',\r\n              img: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAYFBMVEX///8AAAClpaVTU1P09PTLy8thYWHw8PAYGBiUlJS2trb5+flISEiwsLDz8/P8/Pzd3d1NTU0LCwt7e3vX19eCgoIeHh5aWlpnZ2fl5eWOjo6ioqJ4eHhEREQ9PT2YmJhQIQIRAAACI0lEQVR4nO3ci07CQBRFUS71gVJ8oKgo6P//pWQSU7EtncpwrjPu9QHEnZyMdFAmEwAAAAAAAAAAAAAAAAAAAAAAAIy3eL6QerlRF16Z1vKy9MIZhRRSSCGFFFJIIYUUUkghhRS6FM5vzrTUgQAAAAAA/BPrc7FbdeGr+J7GuImikEIKKaSQQgoppJBCCimk0KWw/Cfg87ep1lxdCAAAAAAAyrCoq0Tq6/arT+W3Mm0J79qm7VevbaFP+uG0hZVZfaeP2nPyQrON738CCQrNd6qSQrt/1Jd90RSaPbjdBKsK/aaqK7TaZ6rCwt1UPU5VaaHLVMWFtpVPVV24m6r4+8z0hbbUTtWh0OxdOVWXQrOVbqpOhTaTTdWrcDdV0WPVh80SGVuoOlXnl8l0vLc+XKg+VU9hoND3sSqJwUKzTd5/YBNR6HwDcKyoQq/HqiTiCj1vAI4VW5jvVOMLc53qiEL9Y1USowqt9v5xf2FM4VPHJzt/34jCVZ7fAhZd6P75zW9FFi6zHGgQV7jK9vd9XGGV60CDiMJ8BxoMFq7kX7GQ2EDhfdYDDQ4WZnyCNg4VZj/QoL8w7xO00Vc4K2GgQU9hpu9Bu3QW1mvvHyuhjsKnXO8rurULX8sZaPCzcFvICdrYLyznBG3sFRZ0gja+FRbwHrRLU1jgQIOvwpyf4g+rSh5oUJU80KAq5SGp17bkgQZ5fp4EAAAAAAAAAAAAAADQ9gmIezIe1y4tuQAAAABJRU5ErkJggg==',\r\n              toolName: 'actionButton',\r\n              dataElement: 'actionButton',\r\n              className: 'list-btn',\r\n              hidden: ['mobile'],\r\n              onClick: () => handleDownloadfile(documentViewer, annotationManager),\r\n            },\r\n          ];\r\n          header.update([...currentHeader, ...newButton]);\r\n        });\r\n\r\n        const iframeDoc = instance.UI.iframeWindow.document;\r\n        const btn = iframeDoc.querySelectorAll('.list-btn');\r\n        btn.forEach(\r\n          (item) => (item.innerHTML = ReactDOMServer.renderToString(<RiPlayList2Fill style={{ fontSize: '16px' }} />))\r\n        );\r\n        // Handle Plugin\r\n        handlePluginPDFTron(instance);\r\n      });\r\n    } else {\r\n      insRef?.current.UI.loadDocument(initialDoc);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        type=\"primary\"\r\n        onClick={showDrawer}\r\n        style={{\r\n          position: 'fixed',\r\n          top: ' 50%',\r\n          right: 0,\r\n          transform: ' translate(0,-50%)',\r\n        }}\r\n      >\r\n        Edit\r\n      </Button>\r\n\r\n      {/* <div className=\"webviewer\" ref={refViewer} style={{ height: \"calc(100vh - 100px)\" }} /> */}\r\n      <PDFViewer data={data} />\r\n      {/* {data && <UserEditDrawer onClose={onClose} visible={visible} data={data} filledJson={(val) => filledJson(val)} />} */}\r\n    </>\r\n  );\r\n}\r\n\r\nconst UserEditDrawer = ({ onClose, visible, data, filledJson }) => {\r\n  const [template, setTemplate] = useState([]);\r\n  const formRef = useRef();\r\n  useEffect(() => {\r\n    let fields = splitData();\r\n    setTemplate(fields);\r\n  }, [data]);\r\n\r\n  const splitData = () => {\r\n    const _template = {};\r\n    Object.keys(data).forEach((item) => {\r\n      if (typeof data[item] !== 'object') {\r\n        _template[item] = data[item]; // create exist value for Number || String field\r\n      } else {\r\n        // Handle with Object field\r\n        // 2 case : Array || Object\r\n\r\n        if (data[item].length > 0) {\r\n          // Handle with Array\r\n          _template[item] = data[item].map((elmt, i) => ({ name: elmt.name, code: elmt.code, index: `${i + 1}` }));\r\n        } else {\r\n          // Handle with object\r\n\r\n          Object.keys(data[item]).forEach((field) => {\r\n            let newField = [item, field].join('_');\r\n            _template[newField] = data[item][field];\r\n          });\r\n        }\r\n      }\r\n    });\r\n    return _template;\r\n    // filledJson(_template);\r\n  };\r\n\r\n  const renderFormItem = () => {\r\n    let xhtml = null;\r\n    xhtml = Object.keys(template).map((keys) => {\r\n      return (\r\n        <Form.Item name={keys} key={keys}>\r\n          <Input />\r\n        </Form.Item>\r\n      );\r\n    });\r\n\r\n    Object.keys(template).map((keys) => {\r\n      formRef?.current?.setFieldsValue({\r\n        [keys]: template[keys],\r\n      });\r\n    });\r\n\r\n    return xhtml;\r\n  };\r\n  const onFinish = (val) => {\r\n    console.log(val);\r\n  };\r\n  return (\r\n    <Drawer title=\"Edit Information\" placement=\"right\" onClose={onClose} visible={visible}>\r\n      {\r\n        <Card className=\"card-boxShadow\" title=\"Loại hình doanh nghiệp\">\r\n          <Form ref={formRef} onFinish={filledJson}>\r\n            {renderFormItem()}\r\n            <Button htmlType=\"submit\">Edit content</Button>\r\n          </Form>\r\n        </Card>\r\n      }\r\n    </Drawer>\r\n  );\r\n};\r\n","import axios from \"src/config/axios\";\r\n\r\nconst api_path = {\r\n  getOrder: \"/admin/order\",\r\n  deleteOrder: \"/admin/order/delete/\",\r\n};\r\n\r\nconst AdminOrderService = {\r\n  getOrder: (params) => {\r\n    return axios.post(api_path.getOrder, params);\r\n  },\r\n\r\n  getOrderBySlug: (params) => {\r\n    return axios.get(`${api_path.getOrder}/${params.slug}`);\r\n  },\r\n  deleteOrder: (id) => {\r\n    return axios.post(api_path.deleteOrder + id);\r\n  },\r\n};\r\n\r\nexport default AdminOrderService;\r\n"],"names":["props","useState","initialDoc","setInitialDoc","visible","component","width","refViewer","useRef","useEffect","instance","getInstance","dispose","updateFiles","renderPDF","data","files","handleCheckFile","Modal","closable","content","buttonStyle","style","header","bordered","dataSource","renderItem","item","onClick","e","path","description","value","className","name","footer","handlePluginPDFTron","UI","Feature","setHeaderItems","enableElements","disableElements","enableFeatures","disableFeatures","setTheme","Theme","NodeList","prototype","forEach","Array","HTMLCollection","Download","TextSelection","NotesPanel","FilePicker","handleDownloadfile","documentViewer","annotationManager","insRef","setPrintQuality","useEmbeddedPrint","print","ref","current","hasChildNodes","params","fullAPI","WebViewer","Core","PDFNet","newButton","type","toolName","dataElement","hidden","currentHeader","headers","headerGroup","update","iframeDoc","iframeWindow","document","querySelectorAll","i","innerHTML","ReactDOMServer","fontSize","addEventListener","refreshAll","updateView","loadDocument","height","ClassComponentText","setVisible","setData","slug","useParams","getScreenData","AdminOrderService","then","res","status","catch","err","console","log","position","top","right","transform","api_path","getOrder","axios","getOrderBySlug","deleteOrder","id"],"sourceRoot":""}