{"version":3,"file":"static/js/649.94dabbde.chunk.js","mappings":"+PAEMA,EACK,cADLA,EAEO,gBAYb,EATyB,CACvBC,QAAS,WACP,OAAOC,EAAAA,EAAAA,IAAUF,IAEnBG,WAAY,SAACC,GACX,OAAOF,EAAAA,EAAAA,KAAA,UAAcF,EAAd,YAAqCI,MCXhD,EAAyB,uBAAzB,EAA6D,2B,WC8E7D,EA3EkB,WAChB,OAA8BC,EAAAA,EAAAA,WAAS,GAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAAwBF,EAAAA,EAAAA,UAAS,IAAjC,eAAOG,EAAP,KAAaC,EAAb,MAEAC,EAAAA,EAAAA,YAAU,WACRC,MACC,IAEH,IAAMA,EAAY,WAChBJ,GAAW,GACXK,EAAAA,UACGC,MAAK,SAACC,GACL,MAAuBA,EAAIN,KAArBO,EAAN,EAAMA,OAAQP,EAAd,EAAcA,KACC,MAAXO,GACFN,EAAQD,EAAKQ,UAGhBC,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAC3BG,SAAQ,kBAAMd,GAAW,OAoB9B,OACE,SAAC,IAAD,CAAMe,MAAM,0CAAqBC,UAAU,UAA3C,UACE,UAAC,IAAD,CACEC,KAAK,QACLlB,QAAS,CACPmB,SAAUnB,EACVoB,IAAK,aACLC,MAAO,KAETC,WAAYpB,EACZqB,WAAY,CACVN,UAAWO,GAEbC,OAAQ,SAACC,GAAD,OAAYA,EAAOC,KAC3BC,OAAQ,CAAEC,EAAG,KACbC,UAAQ,EAbV,WAeE,SAAC,WAAD,CACEd,MAAM,iCACNC,UAAWO,EACXO,MAAO,MACPC,OAAQ,SAACC,EAAGP,EAAQQ,GAAZ,OAAkBR,EAAOS,SAEnC,SAAC,WAAD,CAAcnB,MAAM,QAAQgB,OAAQ,SAACC,EAAGP,EAAQQ,GAAZ,OAAkBR,EAAOU,UAC7D,SAAC,WAAD,CAAcpB,MAAM,oCAAgBC,UAAWO,EAAeQ,OAAQ,SAACC,EAAGP,EAAQQ,GAAZ,OAAkBR,EAAOW,UAC/F,SAAC,WAAD,CAAcrB,MAAM,OAAOe,MAAO,OAAQC,OAAQ,SAACC,EAAGP,EAAQQ,GAAZ,OAAkBR,EAAOY,SAC3E,SAAC,WAAD,CAActB,MAAM,6BAAgBgB,OAAQ,SAACC,EAAGP,EAAQQ,GAAZ,OAAkBR,EAAOa,UAAUC,UAAU,EAAG,QAC5F,SAAC,WAAD,CACExB,MAAM,GACNe,MAAO,OACPC,OAAQ,SAACC,EAAGP,EAAQQ,GAAZ,OAAkB,SAAC,IAAD,CAAQO,QAAS,kBAhD9B,SAACf,GACpBgB,EAAAA,EAAAA,QAAc,CACZ1B,MAAO,UACP2B,QAAQ,4DAAD,OAAoCjB,EAAOS,KAA3C,KACPS,KAAM,WACJ3C,GAAW,GACXK,EAAAA,WAA4BoB,EAAOC,KAChCpB,MAAK,SAACC,GACmB,MAApBA,EAAIN,KAAKO,OACXoC,EAAAA,GAAAA,QAAgBrC,EAAIN,KAAK2C,SAEzBA,EAAAA,GAAAA,MAAcrC,EAAIN,KAAK2C,YAG1B9B,SAAQ,kBAAMV,UAkCkCyC,CAAapB,IAApC","sources":["service/AdminService/AdminUserService.js","webpack://create-company/./src/pages/Admin/AdminUser/styles.module.scss?f10a","pages/Admin/AdminUser/index.js"],"sourcesContent":["import axios from \"./../../config/axios\";\n\nconst api_path = {\n  getUser: \"/admin/user\",\n  deleteUser:\"/admin/delete\",\n};\n\nconst AdminUserService = {\n  getUser: () => {\n    return axios.get(api_path.getUser);\n  },\n  deleteUser: (id) => {\n    return axios.post(`${api_path.deleteUser}/${id}`);\n  },\n};\n\nexport default AdminUserService;\n","// extracted by mini-css-extract-plugin\nexport default {\"inline\":\"styles_inline__41BTS\",\"pagination\":\"styles_pagination__rMbgV\"};","import React, { useEffect, useState } from 'react';\r\nimport { Card, message, Modal, Table, Button } from 'antd';\r\nimport AdminUserService from 'src/service/AdminService/AdminUserService';\r\nimport styles from './styles.module.scss';\r\nconst AdminUser = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [data, setData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchUser();\r\n  }, []);\r\n\r\n  const fetchUser = () => {\r\n    setLoading(true);\r\n    AdminUserService.getUser()\r\n      .then((res) => {\r\n        let { status, data } = res.data;\r\n        if (status === 200) {\r\n          setData(data._user);\r\n        }\r\n      })\r\n      .catch((err) => console.log(err))\r\n      .finally(() => setLoading(false));\r\n  };\r\n  const handleDelete = (record) => {\r\n    Modal.confirm({\r\n      title: 'Warning',\r\n      content: `Bạn có chắc chắn muốn xóa user ${record.name}?`,\r\n      onOk: () => {\r\n        setLoading(true);\r\n        AdminUserService.deleteUser(record._id)\r\n          .then((res) => {\r\n            if (res.data.status === 200) {\r\n              message.success(res.data.message);\r\n            } else {\r\n              message.error(res.data.message);\r\n            }\r\n          })\r\n          .finally(() => fetchUser());\r\n      },\r\n    });\r\n  };\r\n  return (\r\n    <Card title=\"Quản lý người dùng\" className=\"cc-card\">\r\n      <Table\r\n        size=\"small\"\r\n        loading={{\r\n          spinning: loading,\r\n          tip: 'Loading...',\r\n          delay: 100,\r\n        }}\r\n        dataSource={data}\r\n        pagination={{\r\n          className: styles.pagination,\r\n        }}\r\n        rowKey={(record) => record._id}\r\n        scroll={{ x: 768 }}\r\n        bordered\r\n      >\r\n        <Table.Column\r\n          title=\"Tên người dùng\"\r\n          className={styles.inline}\r\n          width={'25%'}\r\n          render={(v, record, i) => record.name}\r\n        />\r\n        <Table.Column title=\"Email\" render={(v, record, i) => record.email} />\r\n        <Table.Column title=\"Số điện thoại\" className={styles.inline} render={(v, record, i) => record.phone} />\r\n        <Table.Column title=\"Role\" width={'50px'} render={(v, record, i) => record.role} />\r\n        <Table.Column title=\"Ngày khởi tạo\" render={(v, record, i) => record.createdAt.substring(0, 10)} />\r\n        <Table.Column\r\n          title=\"\"\r\n          width={'50px'}\r\n          render={(v, record, i) => <Button onClick={() => handleDelete(record)}>Xóa</Button>}\r\n        />\r\n      </Table>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default AdminUser;\r\n"],"names":["api_path","getUser","axios","deleteUser","id","useState","loading","setLoading","data","setData","useEffect","fetchUser","AdminUserService","then","res","status","_user","catch","err","console","log","finally","title","className","size","spinning","tip","delay","dataSource","pagination","styles","rowKey","record","_id","scroll","x","bordered","width","render","v","i","name","email","phone","role","createdAt","substring","onClick","Modal","content","onOk","message","handleDelete"],"sourceRoot":""}